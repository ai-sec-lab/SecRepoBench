const bitint *s0 = (const bitint*)ys;
  const bitint *s1 = (const bitint*)xs;
  bitint w = *s1;
  bitint mask = w ^ ~0;
  mask = ((mask & MASK1) * MASK1) & MASK2;
  bitint i = 0;
  while (i + sizeof(bitint) <= n) {
    bitint v = *s0 ^ w;
    if ((((v + MASK1) & ~v) & MASK3) == 0) {
      i += sizeof(bitint);
      s0++;
    }
    else {
      v = (v & MASK2) | MASK3;
      v = ((v << 1) - (mask >> 7)) & MASK4;
      if (v) {
        i += __builtin_ctzll(v) / 8;
        break;
      }
      i += sizeof(bitint);
      s0++;
    }
  }