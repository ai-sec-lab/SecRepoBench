quantum=(size_t) ((quantum_info->depth+7)/8.0);
if (quantum_info->format == FloatingPointQuantumFormat)
  quantum=(size_t) ((quantum_info->depth+31)/32.0);
extent=(size_t) (MagickMax(image->columns,image->rows)*quantum*
  GetPixelChannels(image));
if ((image->columns % 8)!= 0)
  extent=(size_t) (MagickMax(image->columns,image->rows)*quantum*
    GetPixelChannels(image)+(8-(image->columns % 8)));