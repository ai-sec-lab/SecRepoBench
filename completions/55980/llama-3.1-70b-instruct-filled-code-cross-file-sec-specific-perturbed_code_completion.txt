// Handle encoding errors encountered during XML parsing.
// Check if the input does not conform to UTF-8 encoding.
// Report an encoding error with details about the problematic bytes.
// Terminate the parsing process upon encountering this error.
encoding_error:
    if (parserContext->input->cur - parserContext->input->base > 0) {
        xmlFatalErr(parserContext, XML_ERR_INVALID_CHAR,
                    "input is not in UTF-8 encoding\n");
    } else {
        xmlFatalErr(parserContext, XML_ERR_INVALID_CHAR,
                    "input is not in UTF-8 encoding at offset %d\n",
                    parserContext->input->cur - parserContext->input->base);
    }
    xmlHaltParser(parserContext);
    if ((parserContext->sax) && (parserContext->sax->endDocument!= NULL))
        parserContext->sax->endDocument(parserContext->userData);
    parserContext->instate = XML_PARSER_EOF;
    return;