std::unordered_map<unsigned int, glyph_variation_data_t> glyph_variation_map;

    for (unsigned int new_gid = 0; new_gid < c->plan->num_glyphs(); ++new_gid) {
      unsigned int old_gid = c->plan->old_gid_for_new_gid(new_gid);
      glyph_variation_data_t variation_data;
      
      if (!get_glyph_variation_data(old_gid, variation_data)) {
        // Handle error in retrieving glyph variation data
        return false;
      }

      glyph_variation_map[new_gid] = variation_data;
    }

    // Special case for glyph ID 0
    if (c->plan->num_glyphs() > 0 && c->plan->new_gid_for_old_gid(0) == 0 && 
        !(c->plan->flags & NOTDEF_OUTLINE)) {
      glyph_variation_map[0] = glyph_variation_data_t(); // Default empty data
    }

    if (glyph_variation_map.empty()) {
      // Handle error if the map is unexpectedly empty
      return false;
    }

    return create_glyph_variations(c->plan->axis_count, c->plan->shared_tuples, glyph_variation_map, glyph_vars);