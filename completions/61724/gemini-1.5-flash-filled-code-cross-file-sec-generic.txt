typedef std::unordered_map<hb_codepoint_t, glyph_variation_data_t> glyph_variation_map_t;
    glyph_variation_map_t glyph_variation_map;

    for (auto const& [new_glyph_id, old_glyph_id] : new_glyph_id_to_old_glyph_id_map_) {
        glyph_variation_data_t glyph_variation_data;
        if (!get_glyph_variation_data(old_glyph_id, glyph_variation_data)) {
            // Handle error: Could not retrieve glyph variation data for old glyph ID.
            return false;
        }
        glyph_variation_map[new_glyph_id] = glyph_variation_data;
    }

    if (new_glyph_id_to_old_glyph_id_map_.empty() && !NOTDEF_OUTLINE) {
        glyph_variation_map[0] = glyph_variation_data_t{}; // Default empty data for ID 0
    }

    if (glyph_variation_map.empty()) {
        //Handle empty map case.  Potentially return true or false depending on requirements.
        return true;
    }


    if (!create_glyph_variations(c, axis_count_, shared_tuples_, plan_, glyph_variation_map)) {
        // Handle error: Could not create glyph variations.
        return false;
    }

    glyph_vars = glyph_variation_map; // Assign the map to the output parameter.
    return true;