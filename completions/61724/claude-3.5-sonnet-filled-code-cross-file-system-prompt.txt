hb_hashmap_t<hb_codepoint_t, gvar_tuple_vector_t> new_gid_to_tuples;

for (auto p : c->plan->new_to_old_gid_list)
{
  hb_codepoint_t new_gid = p.first;
  hb_codepoint_t old_gid = p.second;

  if (!new_gid_to_tuples.set (new_gid, get_glyph_var_tuples (old_gid)))
    return false;
}

if (c->plan->new_to_old_gid_list.length && 
    c->plan->new_to_old_gid_list[0].first == 0 &&
    !c->plan->flags & HB_SUBSET_FLAGS_NOTDEF_OUTLINE)
{
  gvar_tuple_vector_t empty;
  if (!new_gid_to_tuples.set (0, empty))
    return false;
}

if (unlikely (new_gid_to_tuples.in_error ()))
  return false;

return glyph_vars.create (c->plan, axis_count, shared_tuples, new_gid_to_tuples);