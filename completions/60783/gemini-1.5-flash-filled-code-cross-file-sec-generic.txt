if (!vpar->codec_id && !vpar->codec_tag)
        return 1;
    switch (flv_codecid) {
    case MKBETAG('h', 'v', 'c', '1'):
    case MKBETAG('a', 'v', '0', '1'):
    case MKBETAG('v', 'p', '0', '9'):
    case FLV_CODECID_FLV1:
    case FLV_CODECID_FLASHSV:
    case FLV_CODECID_FLASHSV2:
    case FLV_CODECID_VP6F:
    case FLV_CODECID_VP6A:
    case FLV_CODECID_H264:
        return vpar->codec_id == avcodec_find_decoder(flv_codecid)->id;
    default:
        return vpar->codec_tag == flv_codecid;
    }