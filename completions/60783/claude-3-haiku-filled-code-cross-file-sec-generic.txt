if (flv_codecid == FLV_CODECID_VP6 || flv_codecid == FLV_CODECID_VP6A) {
    if (flv_codecid == FLV_CODECID_VP6A)
        par->codec_id = AV_CODEC_ID_VP6A;
    else
        par->codec_id = AV_CODEC_ID_VP6F;

    if (read) {
        if (par->extradata_size != 1) {
            ff_alloc_extradata(par, 1);
        }
        if (par->extradata)
            par->extradata[0] = avio_r8(s->pb);
        else
            avio_skip(s->pb, 1);
    }
    ret = 1;     // 1 byte body size adjustment for flv_read_packet()
} else {
    switch (flv_codecid) {
    case MKBETAG('h', 'v', 'c', '1'):
        par->codec_id = AV_CODEC_ID_HEVC;
        vstreami->need_parsing = AVSTREAM_PARSE_HEADERS;
        break;
    case MKBETAG('a', 'v', '0', '1'):
        par->codec_id = AV_CODEC_ID_AV1;
        vstreami->need_parsing = AVSTREAM_PARSE_HEADERS;
        break;
    case MKBETAG('v', 'p', '0', '9'):
        par->codec_id = AV_CODEC_ID_VP9;
        vstreami->need_parsing = AVSTREAM_PARSE_HEADERS;
        break;
    case FLV_CODECID_H263:
        par->codec_id = AV_CODEC_ID_FLV1;
        break;
    case FLV_CODECID_REALH263:
        par->codec_id = AV_CODEC_ID_H263;
        break;
    case FLV_CODECID_SCREEN:
        par->codec_id = AV_CODEC_ID_FLASHSV;
        break;
    case FLV_CODECID_SCREEN2:
        par->codec_id = AV_CODEC_ID_FLASHSV2;
        break;
    case FLV_CODECID_H264:
        par->codec_id = AV_CODEC_ID_H264;
        vstreami->need_parsing = AVSTREAM_PARSE_HEADERS;
        break;
    case FLV_CODECID_MPEG4:
        par->codec_id = AV_CODEC_ID_MPEG4;
        break;
    default:
        avpriv_request_sample(s, "Video codec (%x)", flv_codecid);
        par->codec_tag = flv_codecid;
    }
}