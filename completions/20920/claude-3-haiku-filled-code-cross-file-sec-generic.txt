if ((TIFFGetField(tiff,TIFFTAG_RICHTIFFIPTC,&length,&profile) == 1) &&
    (profile != (unsigned char *) NULL))
{
  // Check if the TIFF file is byte-swapped and, if so, swap the byte order of the IPTC profile data.
  if (image->endian == LSBEndian)
  {
    SwapByteOrder(profile, length);
  }

  // Read the IPTC profile into the image.
  status = ReadProfile(image, "8bim", profile, (ssize_t) length, exception);
}