// Check if the TIFF file is byte-swapped and, if so, swap the byte order of the IPTC profile data.
      if (TIFFIsByteSwapped(tiff)) {
        // Swap the byte order of the profile data if necessary
        for (size_t i = 0; i < length; i += 2) {
          // Swap bytes
          unsigned char temp = profile[i];
          profile[i] = profile[i + 1];
          profile[i + 1] = temp;
        }
      }

      // Read the IPTC profile into the image.
      status = ReadProfile(image, "iptc", profile, (ssize_t) length, exception);
      if (status == MagickFalse) {
        // Handle error if reading the profile fails
        (void) ThrowMagickException(exception, GetMagickModule(),
          CorruptImageError, "Failed to read IPTC profile", "`%s'", image->filename);
      }