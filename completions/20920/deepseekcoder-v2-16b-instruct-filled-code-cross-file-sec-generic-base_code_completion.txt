// Check if the TIFF file is byte-swapped and, if so, swap the byte order of the IPTC profile data.
// Read the IPTC profile into the image.
if ((TIFFGetField(tiff,TIFFTAG_RICHTIFFIPTC,&length,&profile) == 1) &&
    (profile != (unsigned char *) NULL))
{
  if (TIFFIsByteSwapped(tiff))
  {
    // Swap the byte order of the IPTC profile data
    for (i = 0; i < length; i++)
    {
      profile[i] = ((profile[i] << 8) & 0xFF00) | ((profile[i] >> 8) & 0xFF);
    }
  }
  // Read the IPTC profile into the image
  status = ReadProfile(image, "iptc", profile, (ssize_t) length, exception);
}