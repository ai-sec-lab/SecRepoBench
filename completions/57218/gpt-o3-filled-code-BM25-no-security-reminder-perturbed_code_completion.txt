// ---------------------------------------------------------------
    // 1. Get the index of the bone that we are about to read
    // ---------------------------------------------------------------
    unsigned int iBoneIndex = 0;

    // Skip leading spaces / line endings
    if (!SkipSpaces(szCurrent, &szCurrent)) {
        LogErrorNoThrow("Unexpected EOF/EOL while parsing bone index");
        SMDI_PARSE_RETURN;
    }

    // Parse the bone index itself
    if (!ParseUnsignedInt(szCurrent, &szCurrent, iBoneIndex)) {
        LogErrorNoThrow("Unable to parse bone index");
        SMDI_PARSE_RETURN;
    }

    // Ensure we have enough room in our bones array
    if (iBoneIndex >= asBones.size()) {
        asBones.resize(iBoneIndex + 1);
    }

    // Retrieve the bone instance we are currently filling
    SMD::Bone &bone = asBones[iBoneIndex];

    // ---------------------------------------------------------------
    // 2. Parse the bone name (optionally enclosed in quotes)
    // ---------------------------------------------------------------
    if (!SkipSpaces(szCurrent, &szCurrent)) {
        LogErrorNoThrow("Unexpected EOF/EOL while seeking to bone name");
        SMDI_PARSE_RETURN;
    }

    bool bQuota = true;               // assume name is quoted
    unsigned int boneNameLength = 0;  // receives length of the name