while (len--) {
    if (uc >= ue || *uc++ != *str++)
        return 0;
}