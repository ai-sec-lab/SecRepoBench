case 'K':
    // Handle color properties
    {
        ++m_DataIt;
        if (*m_DataIt == 'a') // Ambient color
            getColorRGBA(m_pModel->m_pCurrentMaterial->ambient);
        else if (*m_DataIt == 'd') // Diffuse color
            getColorRGBA(m_pModel->m_pCurrentMaterial->diffuse);
        else if (*m_DataIt == 's') // Specular color
            getColorRGBA(m_pModel->m_pCurrentMaterial->specular);
        else if (*m_DataIt == 'e') // Emissive color
            getColorRGBA(m_pModel->m_pCurrentMaterial->emissive);
        else if (*m_DataIt == 't') // Transmission color
            getColorRGBA(m_pModel->m_pCurrentMaterial->transparent);
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;
case 'd': // Alpha value
case 'T':
    ++m_DataIt;
    getFloatValue(m_pModel->m_pCurrentMaterial->alpha);
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    break;
case 'N': // Shininess
    ++m_DataIt;
    switch(*m_DataIt) {
        case 's':
            ++m_DataIt;
            getFloatValue(m_pModel->m_pCurrentMaterial->shininess);
            break;
        case 'i': // Index of refraction
            ++m_DataIt;
            getFloatValue(m_pModel->m_pCurrentMaterial->ior);
            break;
    }
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    break;
case 'n': // New material
    {
        ++m_DataIt;
        std::string name = getNextToken<DataArrayIt>(m_DataIt, m_DataItEnd);
        m_pModel->m_pCurrentMaterial = new ObjFile::Material();
        m_pModel->m_pCurrentMaterial->MaterialName.Set(name);
        m_pModel->m_MaterialLib.push_back(name);
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;
case 'm': // Texture
    {
        ++m_DataIt;
        if (!strncmp(m_DataIt, "ap_", 3)) {
            m_DataIt += 3;
            if (!strncmp(m_DataIt, "Kd", 2)) // Diffuse texture
                getTexture(m_pModel->m_pCurrentMaterial->texture);
            else if (!strncmp(m_DataIt, "Ks", 2)) // Specular texture
                getTexture(m_pModel->m_pCurrentMaterial->specularTexture);
            else if (!strncmp(m_DataIt, "Bump", 4)) // Bump texture
                getTexture(m_pModel->m_pCurrentMaterial->bumpTexture);
        }
        m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    }
    break;
case 'i': // Illumination model
    ++m_DataIt;
    getIntValue(m_pModel->m_pCurrentMaterial->illumination_model);
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    break;
case 'a': // Anisotropy
    ++m_DataIt;
    if (*m_DataIt == 'n')
        getFloatValue(m_pModel->m_pCurrentMaterial->anisotropy);
    m_DataIt = skipLine<DataArrayIt>(m_DataIt, m_DataItEnd, m_uiLine);
    break;