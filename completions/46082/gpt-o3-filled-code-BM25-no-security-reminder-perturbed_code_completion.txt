else if (object.type == MSGPACK_OBJECT_STR) {
        /* String: make an extra copy so the value survives after the 
         * msgpack buffer is gone.
         */
        result->type = FLB_RA_STRING;
        result->val.string = flb_malloc(object.via.str.size + 1);
        if (!result->val.string) {
            return -1;
        }
        memcpy(result->val.string, object.via.str.ptr, object.via.str.size);
        result->val.string[object.via.str.size] = '\0';
        result->str_len = object.via.str.size;
        return 0;
    }
    else if (object.type == MSGPACK_OBJECT_MAP) {
        /* If the key exists and is a map, consider it as 'true'. */
        result->type = FLB_RA_BOOL;
        result->val.boolean = true;
        return 0;
    }
    else if (object.type == MSGPACK_OBJECT_NIL) {
        result->type = FLB_RA_NULL;
        return 0;
    }