dim = Dims[b];

        // Check for valid dimension size
        if (dim == 0) {
            // Handle error for invalid dimension size
            return 0; // or some error code
        }

        // Check for potential overflow
        if (rv > UINT_MAX / dim) {
            // Handle overflow error
            return 0; // or some error code
        }

        rv *= dim; // Multiply the running total by the current dimension size