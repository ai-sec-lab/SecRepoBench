#if defined(MAGICKCORE_LOCALE_SUPPORT)
  // Check if the locale is set and use the locale-specific function if available
  if (setlocale(LC_CTYPE, NULL) != NULL)
  {
    // Use the locale-specific function to convert the character to lowercase
    return tolower(c);
  }
#endif

// Fallback to the default behavior if locale support is not enabled or locale is not set
return tolower(c);