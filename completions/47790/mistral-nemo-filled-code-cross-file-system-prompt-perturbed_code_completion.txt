for (unsigned int i = 0; i < glyph_count; ++i) {
  unsigned int sid = get_starting_sid(i); // Assuming a function get_starting_sid() exists
  unsigned int count = get_consecutive_sids(i); // Assuming a function get_consecutive_sids() exists

  for (unsigned int j = 0; j < count; ++j) {
    hb_map_set(mapping, i, sid + j);
  }
}