CASE(OP_EXT1, Z) {
      insn = READ_B();
      switch (insn) {
        CASE(OP_EXT1, Z) {
          insn = READ_B();
          switch (insn) {
            CASE(OP_EXT1, Z) {
              insn = READ_B();
              switch (insn) {
                // Handle extended opcodes here
                default:
                  mrb_assert(!"unknown opcode");
                  break;
              }
              pc--;
            }
            default:
              mrb_assert(!"unknown opcode");
              break;
          }
          pc--;
        }
        default:
          mrb_assert(!"unknown opcode");
          break;
      }
      pc--;
    }
    CASE(OP_EXT2, Z) {
      insn = READ_B();
      switch (insn) {
        // Handle extended opcodes here
        default:
          mrb_assert(!"unknown opcode");
          break;
      }
      pc--;
    }
    CASE(OP_EXT3, Z) {
      insn = READ_B();
      switch (insn) {
        // Handle extended opcodes here
        default:
          mrb_assert(!"unknown opcode");
          break;
      }
      pc--;
    }