CASE(OP_EXT1, X) {
      insn = pc[1];
      pc++;
      switch (insn) {
      case OP_EXT1_CALL:
        FETCH_BB();
        goto L_SEND;
      case OP_EXT1_BLOCK:
        FETCH_BB();
        c = OP_L_BLOCK;
        goto L_MAKE_LAMBDA;
      case OP_EXT1_METHOD:
        FETCH_BB();
        c = OP_L_METHOD;
        goto L_MAKE_LAMBDA;
      case OP_EXT1_LAMBDA:
        FETCH_BB();
        c = OP_L_LAMBDA;
        goto L_MAKE_LAMBDA;
      case OP_EXT1_CAPTURE:
        FETCH_BB();
        c = OP_L_CAPTURE;
        goto L_MAKE_LAMBDA;
      case OP_EXT1_SUPER:
        FETCH_BB();
        goto L_SUPER;
      case OP_EXT1_ARGARY:
        FETCH_BS();
        goto L_ARGARY;
      case OP_EXT1_BLKPUSH:
        FETCH_BS();
        goto L_BLKPUSH;
      default:
        goto L_UNIMPLEMENTED;
      }
    }
    CASE(OP_EXT2, X) {
      insn = pc[1];
      pc++;
      switch (insn) {
      case OP_EXT2_GETUPVAR:
        FETCH_BBB();
        goto L_GETUPVAR;
      case OP_EXT2_SETUPVAR:
        FETCH_BBB();
        goto L_SETUPVAR;
      default:
        goto L_UNIMPLEMENTED;
      }
    }
    CASE(OP_EXT3, X) {
      insn = pc[1];
      pc++;
      switch (insn) {
      case OP_EXT3_AREF:
        FETCH_BBB();
        goto L_AREF;
      case OP_EXT3_ASET:
        FETCH_BBB();
        goto L_ASET;
      case OP_EXT3_APOST:
        FETCH_BBB();
        goto L_APOST;
      default:
        goto L_UNIMPLEMENTED;
      }
    }
  L_UNIMPLEMENTED:
    {
      mrb_value exc = mrb_exc_new_lit(mrb, E_NOTIMP_ERROR, "unimplemented opcode");
      mrb_exc_set(mrb, exc);
    }
    goto L_RAISE;