const unsigned char *a = (const unsigned char *)s1;
	const unsigned char *b = (const unsigned char *)s2;
	const unsigned char *eb = b + maxlen;

	if (flags & (STRING_COMPACT_WHITESPACE | STRING_COMPACT_OPTIONAL_WHITESPACE)) {
		// Calculate the endpoint `eb` based on the flags
		if (flags & STRING_COMPACT_WHITESPACE) {
			// Handle compact whitespace
			while (len-- > 0 && isspace(*a)) a++;
			eb = b + maxlen;
		} else if (flags & STRING_COMPACT_OPTIONAL_WHITESPACE) {
			// Handle optional compact whitespace
			while (len-- > 0 && isspace(*a)) a++;
		}
	}