if (utf8) {
    // store UTF-16 versions for UTF-8 mode
    u8_u16(ctry_utf, try_chars);
    u8_u16(ckey_utf, ckey);
    ctryl = static_cast<int>(ctry_utf.size());
    ckeyl = static_cast<int>(ckey_utf.size());
  } else {
    // keep single-byte strings
    ctry   = try_chars;
    ctryl  = static_cast<int>(ctry.size());
    ckeyl  = static_cast<int>(ckey.size());
  }