// process pre behavior
        switch ((*it).pre) {
        case LWO::PrePostBehaviour_OffsetRepeat:
        case LWO::PrePostBehaviour_Repeat:
        case LWO::PrePostBehaviour_Oscillate:
            {
                // Calculate the number of repetitions needed before the first key
                double pre_time = first;
                while (pre_time < my_first) {
                    pre_time += delta;
                }
                pre_time -= delta;

                // Insert keyframes for pre behavior
                while (pre_time >= first) {
                    LWO::Key new_key;
                    new_key.time = pre_time;
                    new_key.value = (*it).keys.front().value; // Simplified, adjust based on behavior
                    (*it).keys.insert((*it).keys.begin(), new_key);
                    pre_time -= delta;
                }
            }
            break;

        default:
            // silence compiler warning
            break;
        }