// Insert pre-behavior keys based on the envelope's pre-defined behavior
        switch ((*it).pre) {
            case LWO::PrePostBehaviour_OffsetRepeat: {
                // Calculate the number of additional keys needed for OffsetRepeat
                size_t num_keys = static_cast<size_t>(delta / (*it).keys.front().time);
                for (size_t j = 0; j < num_keys; ++j) {
                    Key new_key;
                    new_key.time = my_first + j * (*it).keys.front().time;
                    new_key.value = (*it).keys.front().value; // Adjust value as needed
                    (*it).keys.insert((*it).keys.begin(), new_key);
                }
                break;
            }
            case LWO::PrePostBehaviour_Repeat: {
                // Repeat the keys for the duration of the envelope
                for (const auto& key : (*it).keys) {
                    Key new_key = key;
                    new_key.time += delta; // Shift time for the new key
                    (*it).keys.push_back(new_key);
                }
                break;
            }
            case LWO::PrePostBehaviour_Oscillate: {
                // Create oscillating keys based on the existing keys
                for (const auto& key : (*it).keys) {
                    Key new_key = key;
                    new_key.value = -key.value; // Invert value for oscillation
                    new_key.time += delta; // Shift time for the new key
                    (*it).keys.push_back(new_key);
                }
                break;
            }
            default:
                // silence compiler warning
                break;
        }