if (m->factor_op != FILE_FACTOR_OP_NONE) {
		file_magwarn(ms, "Strength already defined for this entry");
		return -1;
	}

	if (strncmp(line, "strength", 8) != 0) {
		file_magwarn(ms, "Invalid strength annotation: `%s'", line);
		return -1;
	}

	line += 8; // Move past "strength"
	while (isspace(CAST(unsigned char, *line))) line++; // Skip spaces

	if (*line == '+' || *line == '-' || *line == '*') {
		m->factor_op = *line++;
		while (isspace(CAST(unsigned char, *line))) line++; // Skip spaces
	}

	m->factor = strtol(line, &t, 10);
	if (line == t) {
		file_magwarn(ms, "Invalid factor value in strength annotation");
		m->factor_op = FILE_FACTOR_OP_NONE; // Reset operation
		return -1;
	}

	return 0;