struct magic *m;

	/* We must have a current magic entry to work on */
	if (myself == NULL || myself->mp == NULL) {
		file_magwarn(ms, "No current magic entry for strength");
		return -1;
	}
	m = myself->mp;

	/* Strength is meaningless for name entries */
	if (m->type == FILE_NAME) {
		file_magwarn(ms,
		    "strength setting is not supported for name entries");
		return -1;
	}

	/* Only one strength operation may be specified */
	if (m->factor_op != FILE_FACTOR_OP_NONE) {
		file_magwarn(ms, "Current entry already has a strength type");
		return -1;
	}

	/* Parse the factor operation character */
	switch (*l) {
	case FILE_FACTOR_OP_PLUS:	/* '+' */
	case FILE_FACTOR_OP_MINUS:	/* '-' */
	case FILE_FACTOR_OP_TIMES:	/* '*' */
	case FILE_FACTOR_OP_DIV:	/* '/' */
		m->factor_op = *l++;	/* store op and advance pointer */
		break;
	default:
		file_magwarn(ms, "Unknown factor op `%c'", *l);
		return -1;
	}