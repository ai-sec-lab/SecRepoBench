char *ep;
long strength;

if (line == NULL || *line == '\0')
    return -1;

strength = strtol(line, &ep, 10);

if (ep == line || *ep != '\0' || strength < 0 || strength > 255)
    return -1;

me->strength = (unsigned char)strength;
return 0;