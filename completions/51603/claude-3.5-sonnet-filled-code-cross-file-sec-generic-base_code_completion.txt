struct magic *m = me[starttest].mp;
if (m->cont_level != 0 && m->type == FILE_NAME) {
    file_magwarn(ms, "level %u \"name\" entries are invalid", m->cont_level);
    return -1;
}
if (m->factor_op != FILE_FACTOR_OP_NONE) {
    file_magwarn(ms, "\"name\" entries cannot have factor operations");
    return -1;
}
if (m->str_flags != 0) {
    file_magwarn(ms, "\"name\" entries cannot have string flags");
    return -1;
}
if (m->type != FILE_NAME) {
    EATAB;
    switch (*l) {
    case '+':
        m->factor_op = FILE_FACTOR_OP_PLUS;
        break;
    case '-':
        m->factor_op = FILE_FACTOR_OP_MINUS;
        break;
    case '*':
        m->factor_op = FILE_FACTOR_OP_TIMES;
        break;
    case '/':
        m->factor_op = FILE_FACTOR_OP_DIV;
        break;
    default:
        m->factor_op = FILE_FACTOR_OP_NONE;
        break;
    }
    if (m->factor_op != FILE_FACTOR_OP_NONE)
        l++;
}