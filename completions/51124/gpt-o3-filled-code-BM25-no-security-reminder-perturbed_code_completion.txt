if (cond[cond_index] != ']') {
          /* single character condition */
          if (cond[cond_index] != strip[i]) {
            HUNSPELL_WARNING(stderr,
                             "warning: line %d: incompatible stripping "
                             "characters and condition\n",
                             linenum);
            return 0;
          }
        } else {
          /* we are at the end of a [...] group, walk back to the '[' */
          int j = cond_index - 1;
          in = 0;
          while (j >= 0 && cond[j] != '[') {
            if (cond[j] != '^' && strip[i] == cond[j])
              in = 1;
            j--;
          }
          if (j < 0) {
            /* missing '[' */
            HUNSPELL_WARNING(stderr,
                             "error: line %d: missing [ in condition:\n%s\n",
                             linenum, cond.c_str());
            return 0;
          }
          /* check for negation */
          neg = (cond[j + 1] == '^') ? 1 : 0;
          if ((!neg && !in) || (neg && in)) {
            HUNSPELL_WARNING(stderr,
                             "warning: line %d: incompatible stripping "
                             "characters and condition\n",
                             linenum);
            return 0;
          }
          /* position cond_index to the '['; the for-loop will -- it again */
          cond_index = j;
        }