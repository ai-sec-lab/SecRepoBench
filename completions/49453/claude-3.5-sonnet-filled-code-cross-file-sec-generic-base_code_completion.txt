size_t x_digits = digits(x);
size_t y_digits = digits(y);

if (x_digits < y_digits) return -1;
if (x_digits > y_digits) return 1;

for (size_t i = x_digits; i > 0; i--) {
  if (x->p[i-1] > y->p[i-1]) return 1;
  if (x->p[i-1] < y->p[i-1]) return -1;
}