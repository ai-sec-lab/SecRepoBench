size_t n1 = digits(y);
  size_t n2 = digits(operand);

  /* compare by length first */
  if (n1 < n2) return -1;
  if (n1 > n2) return 1;

  /* same length, compare limb by limb from most significant */
  if (n1 == 0) return 0;           /* both are zero */

  for (size_t i = n1; i-- > 0; ) {
    mp_limb a = y->d[i];
    mp_limb b = operand->d[i];
    if (a < b) return -1;
    if (a > b) return 1;
  }