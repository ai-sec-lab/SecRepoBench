DrawInfo
    **graphic_context=NULL;

  Image
    *render_image;

  MagickBooleanType
    status;

  PrimitiveInfo
    *primitive_info;

  StopInfo
    *stops;

  ssize_t
    n;

  /*
    Allocate graphic context.
  */
  n=0;
  graphic_context=(DrawInfo **) AcquireQuantumMemory(MagickPathExtent,
    sizeof(*graphic_context));
  if (graphic_context == (DrawInfo **) NULL)
    {
      if (image->debug != MagickFalse)
        (void) LogMagickEvent(DrawEvent,GetMagickModule(),"end draw-image");
      ThrowBinaryException(ResourceLimitError,"MemoryAllocationFailed",
        image->filename);
    }
  /*
    Initialize graphic context.
  */
  graphic_context[n]=CloneDrawInfo(NULL,draw_info);
  if (graphic_context[n] == (DrawInfo *) NULL)
    {
      if (image->debug != MagickFalse)
        (void) LogMagickEvent(DrawEvent,GetMagickModule(),"end draw-image");
      graphic_context=(DrawInfo **) RelinquishMagickMemory(graphic_context);
      ThrowBinaryException(ResourceLimitError,"MemoryAllocationFailed",
        image->filename);
    }
  primitive_info=(PrimitiveInfo *) NULL;
  stops=(StopInfo *) NULL;
  token=AcquireString(draw_info->primitive);
  primitive=AcquireString(draw_info->primitive);
  status=DrawPrimitive(image,graphic_context[n],primitive_info,exception);
  if (image->debug != MagickFalse)
    (void) LogMagickEvent(DrawEvent,GetMagickModule(),"end draw-image");