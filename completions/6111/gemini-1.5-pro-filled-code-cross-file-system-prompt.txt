ImageInfo *read_info = CloneImageInfo(image_info);
  MagickBooleanType use_cropbox = MagickFalse;
  char *embed_filename = NULL;

  size_t scene = 0;
  assert(image_info != (ImageInfo *) NULL);
  assert(image_info->signature == MagickCoreSignature);
  if (image_info->debug != MagickFalse)
    (void) LogMagickEvent(TraceEvent,GetMagickModule(),"%s",
      image_info->filename);
  assert(exception != (ExceptionInfo *) NULL);
  *message='\0';
  (void) SetImageInfoProgressMonitor(image_info,(MagickProgressMonitor) NULL,
    image_info->client_data);
  image=AcquireImage(image_info,exception);
  if ((image->columns == 0) || (image->rows == 0))
    ThrowReaderException(OptionError,"MustSpecifyImageSize");
  SetGeometry(image,&geometry_info);
  SetGeometryInfo(&geometry_info);
  (void) ParseMetaGeometry(image_info->page,&geometry_info);
  if (image_info->page != (char *) NULL)
    {
      (void) ParseGeometry(image_info->page,&geometry_info);
      use_cropbox = MagickTrue;
    }
  if ((geometry_info.width == 0) || (geometry_info.height == 0))
    ThrowReaderException(OptionError,"MustSpecifyImageSize");
  columns=(size_t) geometry_info.width;
  rows=(size_t) geometry_info.height;
  x_resolution=72.0;
  y_resolution=72.0;
  if (image_info->density != (char *) NULL)
    {
      geometry[0]='\0';
      (void) ConcatenateMagickString(geometry,image_info->density,
        MagickPathExtent);
      (void) GetMagickDimension(geometry,&x_resolution,&y_resolution,NULL,NULL);
    }
  page.width=geometry_info.width/x_resolution;
  page.height=geometry_info.height/y_resolution;
  (void) FormatLocaleString(geometry,MagickPathExtent,"%gx%g",
    geometry_info.width,geometry_info.height);
  (void) SetImageExtent(image,columns,rows,exception);
  (void) SetImageResolution(image,x_resolution,y_resolution,exception);
  if (image_info->ping != MagickFalse)
    {
      image=DestroyImage(image);
      return(image);
    }
  /*
    Render Postscript with Ghostscript delegate.
  */
  if (image_info->monochrome != MagickFalse)
    delegate_info=GetDelegateInfo("ps:mono",(char *) NULL,exception);
  else
    delegate_info=GetDelegateInfo("ps:color",(char *) NULL,exception);
  if (delegate_info == (const DelegateInfo *) NULL)
    return((Image *) NULL);
  density=AcquireString("");
  options=AcquireString("");
  (void) FormatLocaleString(density,MagickPathExtent,"%gx%g",x_resolution,
    y_resolution);
  option=GetImageOption(image_info,"ps:imagemask");
  if (option != (const char *) NULL)
    (void) ConcatenateMagickString(options,"-dMASK=",MagickPathExtent);
  read_info=CloneImageInfo(image_info);
  *read_info->magick='\0';
  if (read_info->number_scenes != 0)
    {
      embed_filename = AcquireString(read_info->filename);
      (void) FormatLocaleString(filename,MagickPathExtent,"ps:%.1024s",
        read_info->filename);
    }
  else
    (void) FormatLocaleString(filename,MagickPathExtent,"ps:%.1024s",
      read_info->filename);

  postscript_image = ReadImage(read_info, exception);
  CatchException(exception);
  read_info = DestroyImageInfo(read_info);

  if (embed_filename != NULL)
    postscript_image = ReadImages(image_info, embed_filename, exception);

  if (embed_filename != (char *)NULL)
    embed_filename = DestroyString(embed_filename);

  if (postscript_image == (Image *) NULL)
    ThrowReaderException(DelegateError,"PostscriptDelegateFailed");