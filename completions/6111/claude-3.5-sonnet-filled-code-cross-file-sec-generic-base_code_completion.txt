image=ReadImage(image_info,exception);
if (image == (Image *) NULL)
  return((Image *) NULL);
(void) ResetImagePage(image,"0x0+0+0");
if (LocaleCompare(image_info->magick,"PS") == 0)
  (void) CopyMagickString(image->filename,image_info->filename,MagickPathExtent);
/*
  Interpret Postscript file.
*/
if (IsRightsAuthorized(PathPolicyDomain,ReadPolicyRights,image->filename) == MagickFalse)
  {
    image=DestroyImage(image);
    errno=EPERM;
    (void) ThrowMagickException(exception,GetMagickModule(),PolicyError,
      "NotAuthorized","`%s'",image->filename);
    return((Image *) NULL);
  }
delegate_info=GetDelegateInfo(image_info->magick,"PS",exception);
if (delegate_info == (const DelegateInfo *) NULL)
  {
    image=DestroyImage(image);
    (void) ThrowMagickException(exception,GetMagickModule(),
      MissingDelegateError,"NoDecodeDelegateForThisImageFormat","`%s'",
      image_info->filename);
    return((Image *) NULL);
  }
density=AcquireString("");
options=AcquireString("");
(void) FormatLocaleString(density,MagickPathExtent,"%gx%g",
  image->resolution.x,image->resolution.y);
read_info=CloneImageInfo(image_info);
*read_info->magick='\0';
if (read_info->number_scenes != 0)
  (void) FormatLocaleString(options,MagickPathExtent,"-scenes %g",
    (double) read_info->scene);
(void) FormatLocaleString(command,MagickPathExtent,
  GetDelegateCommands(delegate_info),
  read_info->antialias != MagickFalse ? "-dTextAlphaBits=4" : "",
  read_info->antialias != MagickFalse ? "-dGraphicsAlphaBits=4" : "",
  density,options,read_info->filename,postscript_filename);
options=DestroyString(options);
density=DestroyString(density);
read_info=DestroyImageInfo(read_info);
/*
  Render Postscript image.
*/
postscript_image=(Image *) NULL;
status=InvokeDelegate(image_info,image,command,exception);
if (status == MagickFalse)
  {
    (void) RelinquishUniqueFileResource(postscript_filename);
    image=DestroyImage(image);
    return((Image *) NULL);
  }
postscript_image=ReadImage(image_info,exception);
(void) RelinquishUniqueFileResource(postscript_filename);
if (postscript_image == (Image *) NULL)
  {
    image=DestroyImage(image);
    return((Image *) NULL);
  }