MagickBooleanType
  status;

PointInfo
  delta;

RectangleInfo
  geometry,
  media_info,
  page_info;

register ssize_t
  i;

size_t
  columns,
  rows,
  scene;

ssize_t
  count;

unsigned long
  height,
  width;

assert(image_info != (const ImageInfo *) NULL);
assert(image_info->signature == MagickCoreSignature);
if (image_info->debug != MagickFalse)
  (void) LogMagickEvent(TraceEvent,GetMagickModule(),"%s",image_info->filename);
assert(exception != (ExceptionInfo *) NULL);
assert(exception->signature == MagickCoreSignature);
image=AcquireImage(image_info,exception);
status=OpenBlob(image_info,image,ReadBinaryBlobMode,exception);
if (status == MagickFalse)
  {
    image=DestroyImageList(image);
    return((Image *) NULL);
  }
(void) ResetMagickMemory(&geometry,0,sizeof(geometry));
(void) ResetMagickMemory(&media_info,0,sizeof(media_info));
(void) ResetMagickMemory(&page_info,0,sizeof(page_info));
delta.x=DefaultResolution;
delta.y=DefaultResolution;
if (image_info->density != (char *) NULL)
  {
    GeometryInfo
      geometry_info;

    MagickStatusType
      flags;

    flags=ParseGeometry(image_info->density,&geometry_info);
    delta.x=geometry_info.rho;
    delta.y=geometry_info.sigma;
    if ((flags & SigmaValue) == 0)
      delta.y=delta.x;
  }