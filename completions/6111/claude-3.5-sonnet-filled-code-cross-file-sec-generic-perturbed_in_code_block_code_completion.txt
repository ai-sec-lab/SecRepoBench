image=AcquireImage(image_info,exception);
if (image == (Image *) NULL)
  return((Image *) NULL);
(void) CopyMagickString(image->filename,image_info->filename,MagickPathExtent);
(void) SetImageInfo(image_info,0,exception);
if (*image_info->magick == '\0')
  (void) CopyMagickString(image->magick,PostscriptDelegateDefault,MagickPathExtent);
else
  (void) CopyMagickString(image->magick,image_info->magick,MagickPathExtent);
image->page=page;
delegate_info=GetDelegateInfo(image->magick,"*",exception);
if (delegate_info == (const DelegateInfo *) NULL)
  {
    image=DestroyImage(image);
    return((Image *) NULL);
  }
density=AcquireString("");
options=AcquireString("");
(void) FormatLocaleString(density,MagickPathExtent,"%gx%g",
  image->resolution.x,image->resolution.y);
if (image_info->page != (char *) NULL)
  (void) FormatLocaleString(options,MagickPathExtent,"-page %s",
    image_info->page);
read_info=CloneImageInfo(image_info);
*read_info->magick='\0';
if (read_info->number_scenes != 0)
  {
    (void) FormatLocaleString(options,MagickPathExtent,"-scene %g",
      (double) read_info->scene);
    read_info->number_scenes=0;
    read_info->scene=0;
  }
(void) CopyMagickString(filename,read_info->filename,MagickPathExtent);
(void) AcquireUniqueFilename(postscript_filename);
(void) AcquireUniqueFilename(input_filename);
(void) FormatLocaleString(command,MagickPathExtent,
  GetDelegateCommands(delegate_info),
  read_info->antialias ? 4 : 1,
  read_info->antialias ? 4 : 1,
  density,options,input_filename,postscript_filename,input_filename);
status=InvokePostscriptDelegate(read_info->verbose,command,exception);
if (status == MagickFalse)
  {
    (void) RelinquishUniqueFileResource(input_filename);
    (void) RelinquishUniqueFileResource(postscript_filename);
    image=DestroyImage(image);
    return((Image *) NULL);
  }
postscript_image=ReadImage(read_info,exception);
(void) RelinquishUniqueFileResource(input_filename);
(void) RelinquishUniqueFileResource(postscript_filename);
read_info=DestroyImageInfo(read_info);
if (postscript_image == (Image *) NULL)
  {
    image=DestroyImage(image);
    return((Image *) NULL);
  }