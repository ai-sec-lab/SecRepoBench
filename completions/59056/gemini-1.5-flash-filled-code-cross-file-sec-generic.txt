{
            ParseError("unexpected end of file");
        }
        elements.insert(std::make_pair(str, element));
        n = parser.AdvanceToNextToken();
    }

    if (!topLevel) {
        TokenPtr t = parser.CurrentToken();
        if (t->Type() != TokenType_CLOSE_BRACKET) {
            ParseError("expected close bracket", t);
        }
    }
}