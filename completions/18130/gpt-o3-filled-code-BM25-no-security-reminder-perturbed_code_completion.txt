/*
    Limit coordinates to a reasonable numeric range so that any subsequent
    arithmetic that may cast the value to an integer (pixel address, offset
    etc.) cannot overflow.  The exact limits are not critical as long as they
    are large enough for any practical image while remaining well inside the
    range that can safely be represented by signed 32/64-bit integers.
  */
  {
    const double limit = 1.0e9;  /* Â±1 000 000 000 is more than sufficient */
    if (coordinate >  limit)
      coordinate =  limit;
    else if (coordinate < -limit)
      coordinate = -limit;
  }