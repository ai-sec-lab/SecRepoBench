if (ctx->bytes_in_header) {
	u32 to_copy = 4 - ctx->bytes_in_header;
	if (to_copy > remain) to_copy = remain;

	memcpy(ctx->hdr_store + ctx->bytes_in_header, start, to_copy);
	//OK, we have 4 bytes, check if start code
	current = mpgviddmx_next_start_code(ctx->hdr_store, ctx->bytes_in_header + to_copy);

	//start code found in our store buffer
	if (current>=0) {
		bytes_from_store = ctx->bytes_in_header + to_copy;
		//start code was in store
		if (current < ctx->bytes_in_header) {
			hdr_offset = 0;
			sc_type_forced = GF_TRUE;
			forced_sc_type = ctx->hdr_store[3];
		} else {
			hdr_offset = current - ctx->bytes_in_header;
			gf_assert(hdr_offset <= remain);
			start += hdr_offset;
			remain -= hdr_offset;
		}
		ctx->bytes_in_header = 0;
	} else {
		ctx->bytes_in_header += to_copy;
		gf_assert(remain>=to_copy);
		start += to_copy;
		remain -= to_copy;
	}
}