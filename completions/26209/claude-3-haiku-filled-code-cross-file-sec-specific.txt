int i, index;
int ret;

for (i = 0; i < 4; i++) {
    int class = ht[i].class;
    int index = ht[i].index;
    int bits = ht[i].bits;
    uint8_t *val = ht[i].values;

    if (class < 2) {
        s->dc_bits[class][index] = bits;
        s->dc_value[class][index] = *val++;
    } else {
        ret = build_vlc(&s->vlcs[class - 2][index], bits, val);
        if (ret < 0)
            return ret;
    }
}

return 0;