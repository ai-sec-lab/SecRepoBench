int i;
    for (i = 0; i < 2; i++) {
        int j;
        for (j = 0; j < 2; j++) {
            int k;
            for (k = 0; k < 16; k++) {
                int index = i * 2 + j;
                int class = ht[index].class;
                int bits = ht[index].bits;
                uint8_t *val = ht[index].val;
                int count = ht[index].count;
                if (class < 2) {
                    s->huff_dc_len[index][k] = bits;
                    s->huff_dc_val[index][k] = val[k];
                }
                if (build_vlc(&s->vlcs[i][index], class, bits, val, count, 1, 1, 0, 0, 0, 0) < 0) {
                    return -1;
                }
            }
        }
    }
    for (i = 0; i < 2; i++) {
        int j;
        for (j = 0; j < 16; j++) {
            int index = i * 16 + j;
            int class = ht[index + 2].class;
            int bits = ht[index + 2].bits;
            uint8_t *val = ht[index + 2].val;
            int count = ht[index + 2].count;
            if (build_vlc(&s->vlcs[1][i * 16 + j], class, bits, val, count, 1, 1, 0, 0, 0, 0) < 0) {
                return -1;
            }
        }
    }