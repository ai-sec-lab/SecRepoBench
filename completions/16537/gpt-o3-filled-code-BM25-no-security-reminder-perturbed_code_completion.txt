/*
    Allocate working buffers.
  */
  points=(PointInfo *) AcquireQuantumMemory((size_t) quantum+1,
    sizeof(*points));
  coefficients=(double *) AcquireQuantumMemory(number_coordinates,
    sizeof(*coefficients));
  control_points=(size_t) quantum+1;
  if ((points == (PointInfo *) NULL) || (coefficients == (double *) NULL))
    {
      if (points != (PointInfo *) NULL)
        points=(PointInfo *) RelinquishMagickMemory(points);
      if (coefficients != (double *) NULL)
        coefficients=(double *) RelinquishMagickMemory(coefficients);
      (void) ThrowMagickException(bezierinfo->exception,GetMagickModule(),
        ResourceLimitError,"MemoryAllocationFailed","`%s'","");
      return(MagickFalse);
    }
  /*
    Ensure there is enough room in the primitive list for the computed
    control points plus the final terminating point.
  */
  if (CheckPrimitiveExtent(bezierinfo,(size_t) ((control_points+1)*
       (number_coordinates+1))) == MagickFalse)
    {
      points=(PointInfo *) RelinquishMagickMemory(points);
      coefficients=(double *) RelinquishMagickMemory(coefficients);
      return(MagickFalse);
    }