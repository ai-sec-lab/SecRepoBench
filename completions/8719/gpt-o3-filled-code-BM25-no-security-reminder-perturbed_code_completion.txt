/*
          Read next chunk length and type.
        */
        length=(size_t) ReadBlobMSBLong(image);        /* chunk length   */
        count=ReadBlob(image,4,(unsigned char *) type);/* chunk type     */
        if (count < 4)
          ThrowReaderException(CorruptImageError,"ImproperImageHeader");

        /* Report what we just read */
        if (logging != MagickFalse)
          (void) LogMagickEvent(CoderEvent,GetMagickModule(),
            "  Reading %c%c%c%c chunk, length=%.20g",
            type[0],type[1],type[2],type[3],(double) length);

        /* Sanity checks on the length */
        if (length > PNG_UINT_31_MAX)
          ThrowReaderException(CorruptImageError,"CorruptImage");

        if ((MagickOffsetType) length >
              (MagickOffsetType) (GetBlobSize(image)-TellBlob(image)-4))
          ThrowReaderException(CorruptImageError,"InsufficientImageDataInFile");

        /* Initialise pointers for forthcoming data read */
        chunk_data=(unsigned char *) NULL;
        p=(unsigned char *) NULL;