hb_buffer_t *buf = hb_serialize_context_get_buffer (c);
if (unlikely (!buf)) return false;

VarRegionList *dest = (VarRegionList *) hb_buffer_alloc (buf, src->static_size, &src->dynamic_size);
if (unlikely (!dest)) return false;

dest->axis_count = src->axis_count;
dest->region_count = regionmapping.get_size ();

for (unsigned int i = 0; i < regionmapping.get_size (); i++) {
  hb_codepoint_t src_region = regionmapping.get_first (i);
  hb_codepoint_t dest_region = regionmapping.get_second (i);
  if (src_region == dest_region) continue;

  const VarRegionAxis *src_axis = src->get_axis (src_region);
  VarRegionAxis *dest_axis = dest->get_axis (dest_region);
  if (unlikely (!src_axis ||!dest_axis)) return false;

  dest_axis->copy (src_axis);
}

return true;