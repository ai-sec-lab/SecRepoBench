// Allocate memory for the VarRegionList in the context and check for allocation success.
if (!hb_serialize_context_allocate(c, sizeof(VarRegionList))) {
  return false;
}

VarRegionList *dst = (VarRegionList *)c->data;
dst->axis_count = src->axis_count;
dst->region_count = src->region_count;

// Allocate additional memory as required based on the object's size calculations.
size_t axis_data_size = src->axis_count * sizeof(hb_axis_t);
size_t region_data_size = src->region_count * sizeof(hb_region_t);

if (!hb_serialize_context_allocate(c, axis_data_size) ||!hb_serialize_context_allocate(c, region_data_size)) {
  return false;
}

// Iterate over each region in the region map, using its mapping to copy axis data from the source to the destination.
for (size_t i = 0; i < regionmapping.size(); ++i) {
  const hb_bimap_t::value_type &region = regionmapping[i];
  const hb_region_t *src_region = &src->regions[region.first];
  hb_region_t *dst_region = &dst->regions[region.second];

  // Copy axis data from the source to the destination.
  for (size_t j = 0; j < src_region->axis_count; ++j) {
    dst_region->axes[j] = src_region->axes[j];
  }
}

return true;