// Retrieve and set image properties from TIFF tags.
char message[MagickPathExtent];
uint32 count, length, type;

// Check for OPIIMAGEID tag and set it as an image property if present
if (TIFFGetField(tiff, TIFFTAG_OPIIMAGEID, &count, &text))
{
    if (count > 0 && text != NULL)
    {
        (void) SetImageProperty(image, "tiff:opiimageid", text, exception);
    }
}

// Check for other common TIFF tags and set them as image properties if present
if (TIFFGetField(tiff, TIFFTAG_ARTIST, &text))
    (void) SetImageProperty(image, "tiff:artist", text, exception);
if (TIFFGetField(tiff, TIFFTAG_DOCUMENTNAME, &text))
    (void) SetImageProperty(image, "tiff:document", text, exception);
if (TIFFGetField(tiff, TIFFTAG_IMAGEDESCRIPTION, &text))
    (void) SetImageProperty(image, "tiff:imagedescription", text, exception);
if (TIFFGetField(tiff, TIFFTAG_COPYRIGHT, &text))
    (void) SetImageProperty(image, "tiff:copyright", text, exception);

// Handle the subfiletype field with specific values like REDUCEDIMAGE, PAGE, and MASK
uint32 subfiletype;
if (TIFFGetField(tiff, TIFFTAG_SUBFILETYPE, &subfiletype))
{
    if (subfiletype == FILETYPE_REDUCEDIMAGE)
        (void) SetImageProperty(image, "tiff:subfiletype", "REDUCEDIMAGE", exception);
    else if (subfiletype == FILETYPE_PAGE)
        (void) SetImageProperty(image, "tiff:subfiletype", "PAGE", exception);
    else if (subfiletype == FILETYPE_MASK)
        (void) SetImageProperty(image, "tiff:subfiletype", "MASK", exception);
}