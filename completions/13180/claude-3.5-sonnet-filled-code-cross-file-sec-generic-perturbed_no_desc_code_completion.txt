const char *value;

for (;;)
{
  if (TIFFGetField(tiff,TIFFTAG_PAGENAME,&text) != 0)
    (void) SetImageProperty(img,"label",text,exception);
  if (TIFFGetField(tiff,TIFFTAG_IMAGEDESCRIPTION,&text) != 0)
    (void) SetImageProperty(img,"comment",text,exception);
  if (TIFFGetField(tiff,TIFFTAG_MAKE,&text) != 0)
    (void) SetImageProperty(img,"tiff:make",text,exception);
  if (TIFFGetField(tiff,TIFFTAG_MODEL,&text) != 0)
    (void) SetImageProperty(img,"tiff:model",text,exception);
  if (TIFFGetField(tiff,TIFFTAG_SOFTWARE,&text) != 0)
    (void) SetImageProperty(img,"tiff:software",text,exception);
  if (TIFFGetField(tiff,TIFFTAG_ARTIST,&text) != 0)
    (void) SetImageProperty(img,"tiff:artist",text,exception);
  if (TIFFGetField(tiff,TIFFTAG_COPYRIGHT,&text) != 0)
    (void) SetImageProperty(img,"tiff:copyright",text,exception);
  if (TIFFGetField(tiff,TIFFTAG_DATETIME,&text) != 0)
    (void) SetImageProperty(img,"tiff:timestamp",text,exception);
  if (TIFFGetField(tiff,TIFFTAG_DOCUMENTNAME,&text) != 0)
    (void) SetImageProperty(img,"tiff:document",text,exception);
  if (TIFFGetField(tiff,TIFFTAG_HOSTCOMPUTER,&text) != 0)
    (void) SetImageProperty(img,"tiff:hostcomputer",text,exception);
  if (TIFFGetField(tiff,33432,&count,&text) != 0)
    (void) SetImageProperty(img,"tiff:copyright",text,exception);
  if (TIFFGetField(tiff,33423,&count,&text) != 0)
    (void) SetImageProperty(img,"kodak-33423",text,exception);
  if (TIFFGetField(tiff,36867,&count,&text) != 0)
    (void) SetImageProperty(img,"kodak-36867",text,exception);

  if (TIFFGetField(tiff,TIFFTAG_SUBFILETYPE,&type) != 0)
  {
    if ((type & FILETYPE_REDUCEDIMAGE) != 0)
      value="REDUCEDIMAGE";
    else if ((type & FILETYPE_PAGE) != 0)
      value="PAGE";
    else if ((type & FILETYPE_MASK) != 0)
      value="MASK";
    else
      value="UNKNOWN";
    (void) SetImageProperty(img,"tiff:subfiletype",value,exception);
  }

  if (TIFFIsTiled(tiff) != 0)
  {
    uint32 tile_width, tile_height;
    TIFFGetField(tiff,TIFFTAG_TILEWIDTH,&tile_width);
    TIFFGetField(tiff,TIFFTAG_TILELENGTH,&tile_height);
    (void) FormatLocaleString(message,MagickPathExtent,"%ux%u",
      (unsigned int) tile_width,(unsigned int) tile_height);
    (void) SetImageProperty(img,"tiff:tile-geometry",message,exception);
  }

  if (TIFFGetField(tiff,TIFFTAG_PAGENUMBER,&length,&count) != 0)
  {
    (void) FormatLocaleString(message,MagickPathExtent,"%u",
      (unsigned int) length);
    (void) SetImageProperty(img,"page",message,exception);
    (void) FormatLocaleString(message,MagickPathExtent,"%u",
      (unsigned int) count);
    (void) SetImageProperty(img,"tiff:page-count",message,exception);
  }

  break;
}