for (unsigned int i = 0; i < numFaces; ) {
        if (!GetNextLine(buffer, line)) {
            ASSIMP_LOG_ERROR("OFF: The number of faces in the header is incorrect");
            break;
        }
        unsigned int numIndices = 0;
        const char* sz = line;

        // Read the number of indices for the current face
        SkipSpaces(&sz);
        if (IsLineEnd(*sz)) {
            ASSIMP_LOG_ERROR("OFF: Face definition is incomplete");
            break;
        }
        numIndices = strtoul10(sz, &sz);

        // Validate the number of indices
        if (numIndices < 3) {
            ASSIMP_LOG_ERROR("OFF: A face must have at least 3 indices");
            continue; // Skip this face
        }

        // Ensure we do not exceed the number of vertices
        if (numIndices > numVertices) {
            ASSIMP_LOG_ERROR("OFF: Face index out of range");
            continue; // Skip this face
        }

        aiFace& face = faces[i++];
        face.mNumIndices = numIndices;
        face.mIndices = new unsigned int[numIndices];

        // Read the indices for the current face
        for (unsigned int j = 0; j < numIndices; ++j) {
            SkipSpaces(&sz);
            unsigned int index = strtoul10(sz, &sz);
            if (index >= numVertices) {
                ASSIMP_LOG_ERROR("OFF: Index out of range");
                index = 0; // Set to a valid index to avoid crashes
            }
            face.mIndices[j] = index;
        }
    }