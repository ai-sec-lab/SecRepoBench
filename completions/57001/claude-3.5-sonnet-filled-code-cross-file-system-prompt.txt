for (unsigned int i = 0; i < numFaces; ++i) {
    if (!GetNextLine(buffer, line)) {
        ASSIMP_LOG_ERROR("OFF: The number of faces in the header is incorrect");
        break;
    }
    sz = line;
    const unsigned int idx = strtoul10(sz, &sz);
    if (idx > AI_MAX_FACE_INDICES) {
        ASSIMP_LOG_ERROR("OFF: Too many vertices for a single face");
        continue;
    }
    faces->mNumIndices = idx;
    faces->mIndices = new unsigned int[idx];
    for (unsigned int m = 0; m < idx; ++m) {
        SkipSpaces(&sz);
        if (sz >= end - 1 || *sz < '0' || *sz > '9') {
            ASSIMP_LOG_ERROR("OFF: Unexpected EOL while parsing a face");
            break;
        }
        unsigned int tmp = strtoul10(sz, &sz);
        if (tmp >= numVertices) {
            ASSIMP_LOG_ERROR("OFF: Vertex index out of range");
            tmp = 0;
        }
        faces->mIndices[m] = tmp;
    }
    if (faces->mNumIndices == 0) {
        ASSIMP_LOG_ERROR("OFF: Encountered face with zero indices");
    }
    ++faces;
}