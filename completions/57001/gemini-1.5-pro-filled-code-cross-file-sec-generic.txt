if (!GetNextLine(buffer, line)) {
    ASSIMP_LOG_ERROR("OFF: Unexpected EOF while parsing faces");
    break;
}
sz = line;

unsigned int nInd = strtoul10(sz, &sz);
if (nInd == 0) {
    ASSIMP_LOG_ERROR("OFF: Face with zero indices encountered");
    continue;
}

// Check for invalid index count
constexpr unsigned int MaxIndices = 1024; // Adjust as needed
if (nInd > MaxIndices) {
    ASSIMP_LOG_ERROR("OFF: Too many indices in face");
    continue;
}


faces[i].mNumIndices = nInd;
faces[i].mIndices = new unsigned int[nInd];

for (unsigned int j = 0; j < nInd; ++j) {
    SkipSpaces(&sz);
    unsigned int ind = strtoul10(sz, &sz);
    if (ind >= numVertices) {
        ASSIMP_LOG_ERROR("OFF: Vertex index out of range");
        ind = 0; // Clamp to a valid index
    }
    faces[i].mIndices[j] = ind;
}
++i;