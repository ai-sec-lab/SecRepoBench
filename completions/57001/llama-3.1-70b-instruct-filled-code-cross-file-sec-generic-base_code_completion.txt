// Parse face data from the input buffer for the OFF format. For each face, read
// the number of vertex indices, followed by the indices themselves. Ensure that
// the number of indices does not exceed a specified maximum, and that all indices
// are within the valid range of existing vertices. Log an error if indices are out
// of range or if faces with zero indices are encountered.
aiFace *fc = mesh->mFaces;
for (unsigned int i = 0; i < numFaces; ) {
    if (!GetNextLine(buffer, line)) {
        ASSIMP_LOG_ERROR("OFF: The number of faces in the header is incorrect");
        break;
    }
    const char *sz = line;

    // read the number of vertex indices
    unsigned int num = strtoul10(sz, &sz);
    if (num < 3 || num > 4) {
        ASSIMP_LOG_ERROR("OFF: Number of vertex indices must be 3 or 4");
        continue;
    }

    // read the indices themselves
    fc->mIndices = new unsigned int[fc->mNumIndices = num];
    for (unsigned int j = 0; j < num; ++j) {
        unsigned int idx = strtoul10(sz, &sz);
        if (idx >= numVertices) {
            ASSIMP_LOG_ERROR("OFF: Index out of range");
            idx = 0;
        }
        fc->mIndices[j] = idx;
    }

    // increment the face counter
    ++fc;
    ++i;
}