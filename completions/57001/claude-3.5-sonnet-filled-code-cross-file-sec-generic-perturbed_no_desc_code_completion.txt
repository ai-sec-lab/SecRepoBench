if (!GetNextLine(buffer, line)) {
    ASSIMP_LOG_ERROR("OFF: Unexpected end of file while reading faces");
    break;
}
sz = line;
SkipSpaces(&sz);

unsigned int numVertices = strtoul10(sz, &sz);
if (numVertices < 3) {
    ASSIMP_LOG_WARN("OFF: Skipping face with less than 3 vertices");
    continue;
}

faces->mNumIndices = numVertices;
faces->mIndices = new unsigned int[numVertices];

for (unsigned int i = 0; i < numVertices; ++i) {
    SkipSpaces(&sz);
    unsigned int idx = strtoul10(sz, &sz);
    if (idx >= mesh->mNumVertices) {
        ASSIMP_LOG_ERROR("OFF: Vertex index out of range");
        idx = 0;
    }
    faces->mIndices[i] = idx;
}

++faces;
++i;