if (!GetNextLine(buffer, line)) {
    ASSIMP_LOG_ERROR("OFF: Unexpected EOF while parsing faces");
    break;
}
sz = line;

unsigned int nInd = strtoul10(sz, &sz);
if (nInd == 0) {
    ASSIMP_LOG_ERROR("OFF: Faces with zero indices are not allowed");
    ++i;
    continue;
}

// check if we have enough space to store all indices
// nInd is the number of indices for the current face
if (i + nInd > numFaces) {
    ASSIMP_LOG_ERROR("OFF: Too many indices provided, exceeding the declared number of faces");
    break;
}

faces[i].mNumIndices = nInd;
faces[i].mIndices = new unsigned int[nInd];

// read and store vertex indices for the current face
for (unsigned int j = 0; j < nInd; ++j) {
    SkipSpaces(&sz);
    unsigned int ind = strtoul10(sz, &sz);
    if (ind >= numVertices) {
        ASSIMP_LOG_ERROR("OFF: Vertex index out of range");
        ind = 0; // Replace invalid index with 0 to avoid crashes
    }
    faces[i].mIndices[j] = ind;
}
++i;