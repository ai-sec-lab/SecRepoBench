const char *icc_profile = GetImageProperty(image, "icc", exception);
if (icc_profile != NULL && strlen(icc_profile) >= sizeof(ICCProfileHeader)) {
    const ICCProfileHeader *header = (const ICCProfileHeader *) icc_profile;
    if (header->size >= sizeof(ICCProfileHeader)) {
        char description[MagickPathExtent];
        char manufacturer[MagickPathExtent];
        char model[MagickPathExtent];
        char copyright[MagickPathExtent];

        (void) CopyMagickString(description, header->description, sizeof(description));
        (void) CopyMagickString(manufacturer, header->manufacturer, sizeof(manufacturer));
        (void) CopyMagickString(model, header->model, sizeof(model));
        (void) CopyMagickString(copyright, header->copyright, sizeof(copyright));

        (void) SetImageProperty(image, "icc:description", description);
        (void) SetImageProperty(image, "icc:manufacturer", manufacturer);
        (void) SetImageProperty(image, "icc:model", model);
        (void) SetImageProperty(image, "icc:copyright", copyright);
    }
}