const StringInfo
    *profile;

  const char
    *value;

  profile=GetImageProfile(image,"icc");
  if (profile == (StringInfo *) NULL)
    profile=GetImageProfile(image,"icm");
  if (profile == (StringInfo *) NULL)
    return((const char *) NULL);
  if (GetStringInfoLength(profile) < 128)
    return((const char *) NULL);  /* minimum ICC profile length */
#if defined(LCMS_VERSION)
  {
    cmsHPROFILE
      icc_profile;

    cmsMLU
      *description,
      *manufacturer,
      *model,
      *copyright;

    icc_profile=cmsOpenProfileFromMem(GetStringInfoDatum(profile),
      (cmsUInt32Number) GetStringInfoLength(profile));
    if (icc_profile != (cmsHPROFILE *) NULL)
    {
      description=cmsReadTag(icc_profile,cmsSigProfileDescriptionTag);
      if (description != (cmsMLU *) NULL)
      {
        value=(const char *) cmsMLUgetASCII(description,cmsNoLanguage,
          cmsNoCountry);
        if (value != (const char *) NULL)
          (void) SetImageProperty(image,"icc:description",value,exception);
      }
      manufacturer=cmsReadTag(icc_profile,cmsSigDeviceMfgDescTag);
      if (manufacturer != (cmsMLU *) NULL)
      {
        value=(const char *) cmsMLUgetASCII(manufacturer,cmsNoLanguage,
          cmsNoCountry);
        if (value != (const char *) NULL)
          (void) SetImageProperty(image,"icc:manufacturer",value,exception);
      }
      model=cmsReadTag(icc_profile,cmsSigDeviceModelDescTag);
      if (model != (cmsMLU *) NULL)
      {
        value=(const char *) cmsMLUgetASCII(model,cmsNoLanguage,cmsNoCountry);
        if (value != (const char *) NULL)
          (void) SetImageProperty(image,"icc:model",value,exception);
      }
      copyright=cmsReadTag(icc_profile,cmsSigCopyrightTag);
      if (copyright != (cmsMLU *) NULL)
      {
        value=(const char *) cmsMLUgetASCII(copyright,cmsNoLanguage,
          cmsNoCountry);
        if (value != (const char *) NULL)
          (void) SetImageProperty(image,"icc:copyright",value,exception);
      }
      (void) cmsCloseProfile(icc_profile);
    }
  }
#endif
  value=GetImageProperty(image,key,exception);
  return(value);