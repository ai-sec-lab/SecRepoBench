const char *profile;
  size_t length;

  // Attempt to retrieve the ICC profile using the provided keys
  profile = GetImageProperty(image, "icc", exception);
  if (profile == (const char *) NULL)
    profile = GetImageProperty(image, "icm", exception);

  // If no profile is found, return NULL
  if (profile == (const char *) NULL)
    return (const char *) NULL;

  // Ensure the profile length is adequate for processing
  length = strlen(profile);
  if (length < 128) // Example length check
    return (const char *) NULL;

#ifdef LCMS
  // Open the ICC profile and extract information
  // (Assuming OpenICCProfile and GetICCProfileInfo are defined elsewhere)
  ICCProfileInfo info;
  if (OpenICCProfile(profile, &info, exception) == MagickFalse)
    return (const char *) NULL;

  // Store properties in the image
  SetImageProperty(image, "icc:description", info.description, exception);
  SetImageProperty(image, "icc:manufacturer", info.manufacturer, exception);
  SetImageProperty(image, "icc:model", info.model, exception);
  SetImageProperty(image, "icc:copyright", info.copyright, exception);
#endif

  return profile; // Return the profile string