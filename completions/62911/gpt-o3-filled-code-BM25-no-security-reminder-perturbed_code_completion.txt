/* Check whether the entry matches the required key */
                    if (((len == -1) ?
                         xmlStrEqual(entry->name, key_name) :
                         ((xmlStrncmp(entry->name, key_name, len) == 0) &&
                          (entry->name[len] == 0))) &&
                        (((prefix == NULL) && (entry->prefix == NULL)) ||
                         ((prefix != NULL) && (entry->prefix != NULL) &&
                          xmlStrEqual(entry->prefix, prefix)))) {
                        found = 1;
                        break;
                    }