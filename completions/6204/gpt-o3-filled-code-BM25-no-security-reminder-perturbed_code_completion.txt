char
        colorspace[MagickPathExtent];

      MagickBooleanType
        icc_color;

      /*
        Duplicate the incoming specification, then locate the first
        opening parenthesis.  Everything before that parenthesis
        constitutes the colorspace name (e.g. "rgb", "rgba", "cmyk",
        "icc-color", …).  We terminate the copied string immediately
        after this last character so that `colorspace` contains only
        the colorspace identifier.  At the same time we keep the index
        (i) of the final character of the identifier – this value is
        required later when we need to reference the portion of the
        original string that follows the parenthesis.
      */
      (void) CopyMagickString(colorspace,color_name,MagickPathExtent);
      {
        const char
          *parenthesis = strchr(colorspace,'(');

        if (parenthesis == (char *) NULL)
          {
            (void) ThrowMagickException(exception,GetMagickModule(),
              OptionWarning,"UnrecognizedColor","`%s'",color_name);
            return(MagickFalse);
          }
        /* `i` is the offset of the character that precedes the '(' */
        i = (ssize_t) (parenthesis - colorspace - 1);
        if (i < 0)
          i = 0;
        /* Isolate the colorspace name. */
        colorspace[i+1] = '\0';
      }