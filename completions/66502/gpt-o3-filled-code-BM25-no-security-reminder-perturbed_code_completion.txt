xmlIDPtr existing;

        /* Check whether an ID with the same value is already registered. */
        existing = (xmlIDPtr) xmlHashLookup(table, value);
        if (existing != NULL) {
            /* The ID already exists â€“ link the current attribute to it.   */
            attribute->atype = XML_ATTRIBUTE_ID;
            if (!streaming)
                attribute->id = existing;

            if (id != NULL)
                *id = existing;

            /* No new ID created. */
            return(0);
        }