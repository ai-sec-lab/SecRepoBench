// Search for the table index corresponding to the given tag.
  unsigned int num_tables = this->num_tables;
  unsigned int table_size = this->table_size;
  hb_tag_t *table_tags = this->table_tags;

  if (table_size == 1) {
    // If the table entry size is 1, use a linear search.
    for (unsigned int i = 0; i < num_tables; i++) {
      if (table_tags[i] == hb_tag) {
        *table_index = i;
        return true;
      }
    }
  } else {
    // If the table entry size is greater than 1, use a binary search.
    unsigned int low = 0;
    unsigned int high = num_tables - 1;
    while (low <= high) {
      unsigned int mid = (low + high) / 2;
      if (table_tags[mid] == hb_tag) {
        *table_index = mid;
        return true;
      } else if (table_tags[mid] < hb_tag) {
        low = mid + 1;
      } else {
        high = mid - 1;
      }
    }
  }

  // If the table index is not found, return false.
  return false;