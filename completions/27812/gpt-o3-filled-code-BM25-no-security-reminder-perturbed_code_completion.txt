if (ret < 0) {
    BLOSC_TRACE_ERROR("Unable to get meta info from frame.");
    return -1;
  }

  /* Compute the offset at which the trailer starts (just before the
   * mandatory, fixedâ€“size part of the trailer).  The trailer is always
   * located at the very end of the frame. */
  int64_t trailer_offset = frame_len - FRAME_TRAILER_MINLEN;
  if (trailer_offset < 0) {
    BLOSC_TRACE_ERROR("Corrupted frame: cannot locate trailer.");
    return -2;
  }

  /* Variable that will hold the user-meta length in network (big-endian)
   * order; it will be converted later on. */
  int32_t usermeta_len_network = 0;