int ret;
    int second_field_offset;
    quality = buf[0];
    if (buf_size < 4) {
        return AVERROR_INVALIDDATA;
    }