do {
    char filename[FileNameSize];
    unz_file_info file_info;
    if (unzGetCurrentFileInfo(m_ZipFileHandle, &file_info, filename, FileNameSize, nullptr, 0, nullptr, 0) != UNZ_OK) {
        break;
    }

    // Check if the file is not empty
    if (file_info.uncompressed_size > 0) {
        // Simplify the filename by removing unnecessary components
        std::string simplified_filename = filename;
        ReplaceAll(simplified_filename, "\\", "/");
        size_t last_slash = simplified_filename.find_last_of('/');
        if (last_slash != std::string::npos) {
            simplified_filename = simplified_filename.substr(last_slash + 1);
        }

        // Add the file information to the archive map
        m_ArchiveMap[simplified_filename] = ZipFileInfo(m_ZipFileHandle, file_info.uncompressed_size);
    }
} while (unzGoToNextFile(m_ZipFileHandle) != UNZ_END_OF_LIST_OF_FILE);