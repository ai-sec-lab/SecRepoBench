/*
    Allocate and initialize the colormap index map.  We need one entry
    for every possible colormap value (MaxColormapSize).  Initialize
    the map to -1 so we can later test if a particular intensity has
    already been added to the image colormap.
  */
  c_mp_i=(ssize_t *) AcquireQuantumMemory(MaxColormapSize,
    sizeof(*c_mp_i));
  if (c_mp_i == (ssize_t *) NULL)
    ThrowBinaryException(ResourceLimitError,"MemoryAllocationFailed",
      image->filename);
  (void) ResetMagickMemory(c_mp_i,(-1),
    MaxColormapSize*sizeof(*c_mp_i));