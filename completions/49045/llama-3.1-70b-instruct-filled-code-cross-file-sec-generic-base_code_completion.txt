mrb_int base;
mrb_value str;

mrb_get_args(mrb, "|i", &base);

if (mrb_nil_p(base)) {
  base = 10;
} else if (base < 2 || base > 36) {
  mrb_raise(mrb, E_ARGUMENT_ERROR, "invalid radix %d", base);
}

str = mrb_str_new(mrb, 0, 0);
mrb_str_concat_int(mrb, &str, mrb_fixnum(self), base);
return str;