mrb_int base = 10;
mrb_value str;

if (mrb_get_args(mrb, "|i", &base) == 0) {
  base = 10;
}

if (base < 2 || base > 36) {
  mrb_raisef(mrb, E_ARGUMENT_ERROR, "invalid radix %S", mrb_fixnum_value(base));
}

str = mrb_fixnum_to_str(mrb, mrb_fixnum(self), base);

return str;