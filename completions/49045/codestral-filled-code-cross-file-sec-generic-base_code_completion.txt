mrb_int base;
mrb_get_args(mrb, "|i", &base);
if (base < 2 || base > 36) {
  mrb_raise(mrb, E_ARGUMENT_ERROR, "invalid base");
}
char buf[33];
mrb_int n = mrb_integer(self);
int i = 32;
do {
  buf[--i] = "0123456789abcdefghijklmnopqrstuvwxyz"[n % base];
  n /= base;
} while (n != 0);
return mrb_str_new(mrb, buf + i, 32 - i);