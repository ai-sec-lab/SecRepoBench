// Remove the ESD (Elementary Stream Descriptor) box from the parent box's list of children, if it exists.
if (ptr->esd) {
    GF_Box *esd_box = (GF_Box *)ptr->esd;
    GF_List *child_boxes = s->child_boxes;
    if (child_boxes) {
        // Iterate through the list of child boxes to find and remove the ESD box
        for (u32 j = 0; j < gf_list_count(child_boxes); j++) {
            GF_Box *child_box = (GF_Box *)gf_list_get(child_boxes, j);
            if (child_box == esd_box) {
                gf_list_remove(child_boxes, j);
                break; // Exit the loop after removing the box
            }
        }
    }
}