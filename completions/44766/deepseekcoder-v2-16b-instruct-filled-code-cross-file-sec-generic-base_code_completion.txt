// Remove the ESD (Elementary Stream Descriptor) box from the parent box's list of children, if it exists.
if (ptr->child_boxes) {
    GF_Box *child;
    GF_ListEnum *enum_ptr = gf_list_enum_new(ptr->child_boxes);
    while ((child = (GF_Box *)gf_list_enum_next(enum_ptr))) {
        if (child->type == GF_ISOM_BOX_TYPE_ESDS) {
            gf_list_remove(ptr->child_boxes, child);
            gf_isom_box_del(child);
            break;
        }
    }
    gf_list_enum_del(enum_ptr);
}