assert(rx->rc == 0);
#ifdef USE_C_LOCALE
locale_t old_locale = uselocale(rx->c_lc_ctype);
assert(old_locale != NULL);
#endif
int result = regexec(&rx->rx, str, nmatch, pmatch, eflags);
#ifdef USE_C_LOCALE
uselocale(old_locale);
#endif
return result;