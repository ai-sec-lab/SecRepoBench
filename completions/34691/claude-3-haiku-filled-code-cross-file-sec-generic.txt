if (len > ARY_SHIFT_SHARED_MIN) {
    ary_make_shared(mrb, a);
    goto L_SHIFT;
}
else if (len == n) {
    ARY_SET_LEN(a, 0);
}
else {
    mrb_value *ptr = ARY_PTR(a);
    mrb_int size = len-n;

    // Shift the array elements to the left by n positions
    for (mrb_int i = 0; i < size; i++) {
        ptr[i] = ptr[i+n];
    }
    ARY_SET_LEN(a, len-n);
}
return val;