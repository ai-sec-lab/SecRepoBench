/* ---- initialise bytestreams for this tile-part ---- */
            /* if a global packed-header (PPM) stream exists, start reading from
             * it whenever we enter the first SOD of the codestream or the next
             * tile-part after a PPM marker                                              */
            if (decodercontext->has_ppm) {
                bytestream2_init(&decodercontext->g_tp_hdr,
                                 decodercontext->packed_headers,
                                 decodercontext->packed_headers_size);
            }

            /* if packet header data are carried inside PPT markers then, for the
             * first tile-part, initialise the stream that will be used later by the
             * packet decoder                                                            */
            if (tile->tp_idx == 0 && decodercontext->has_ppt) {
                bytestream2_init(&decodercontext->g_ppt_hdr,
                                 decodercontext->ppt_buf,
                                 decodercontext->ppt_size);
            }

            /* initialise the stream that contains the actual tile-part bit-stream   */
            bytestream2_init(&decodercontext->tile_part_stream,
                             decodercontext->g.buffer,
                             tp->tp_end - decodercontext->g.buffer);

            /* jump (in the main bytestream) over the tile-part payload so that the
             * outer header-parsing loop continues straight after the current
             * tile-part.                                                               */
            bytestream2_seek(&decodercontext->g,
                             tp->tp_end - decodercontext->g.buffer, SEEK_CUR);

            continue;