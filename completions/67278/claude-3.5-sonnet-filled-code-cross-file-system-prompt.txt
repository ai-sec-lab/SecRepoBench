u32 hdr, size;
u32 pos = (u32) gf_bs_get_position(bs);
if (pos + 3 >= size) break;
hdr = gf_bs_read_u32(bs);
if ((hdr & 0x56E00000) != 0x56E00000) {
    gf_bs_seek(bs, pos+1);
    nb_skip++;
    continue;
}
size = (hdr>>13) & 0x1FFF;
if (!size || (pos + size > size)) break;
gf_bs_skip_bytes(bs, size-4);
if (!nb_frames) {
    memset(&acfg, 0, sizeof(GF_M4ADecSpecInfo));
    acfg.base_sr_index = (hdr>>7) & 0xF;
    if (acfg.base_sr_index == 0xF) break;
}
nb_frames++;
if (nb_frames>=2) break;