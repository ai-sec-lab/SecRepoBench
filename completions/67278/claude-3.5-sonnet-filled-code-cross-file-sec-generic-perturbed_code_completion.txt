u32 hdr, size;
u32 nb_frames = 0;
if (gf_bs_available(bs) < 3) break;
hdr = gf_bs_read_u24(bs);
if (hdr & 0x800000) {	//sync present
	size = gf_bs_read_int(bs, 13);
	gf_bs_read_int(bs, 3);	//skip ID
	if (gf_bs_available(bs) < size) break;
	gf_bs_skip_bytes(bs, size);
} else {
	size = gf_latm_get_value(bs);
	if (gf_bs_available(bs) < size) break;
	gf_bs_skip_bytes(bs, size);
}
nb_frames++;
if (nb_frames==1) {
	memset(&acfg, 0, sizeof(GF_M4ADecSpecInfo));
	gf_m4a_parse_config(bs, &acfg, 0);
	if (acfg.base_sr_index > 12) break;
}
numframes++;
if (numframes>=2) break;
nb_skip = (u32) gf_bs_get_position(bs);