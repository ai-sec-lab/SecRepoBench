u32 pos = 0;

		/* avoid unused-variable warning in case the compiler is strict */
		(void) acfg;

		/* simple LOAS/LATM sync-word scanning                      */
		/* sync word : 0x2B7 (11 bits) -> bytes 0x56 0xE?           */
		while (pos + 3 <= size) {
			if ((data[pos] == 0x56) && ((data[pos + 1] & 0xE0) == 0xE0)) {
				u32 frame_len = ((data[pos + 1] & 0x1F) << 8) | data[pos + 2];

				/* invalid length, skip one byte and continue */
				if (!frame_len) {
					nb_skip++;
					pos++;
					continue;
				}

				/* not enough data left for the declared frame length */
				if (pos + 3 + frame_len > size)
					break;

				numframes++;
				pos += 3 + frame_len; /* move to the next possible frame */

				/* we already have enough evidence, stop scanning */
				if (numframes >= 2)
					break;
			} else {
				/* byte does not match sync, skip */
				nb_skip++;
				pos++;
			}
		}
		/* exit the outer while(1) loop */
		break;