u32 sync, mux_len;
if (gf_bs_available(bs) < 3) break;
sync = gf_bs_read_int(bs, 11);
if (sync != 0x2B7) {
    nb_skip++;
    gf_bs_read_int(bs, 13);
    continue;
}
mux_len = gf_bs_read_int(bs, 13);
if (!mux_len || (gf_bs_available(bs) < mux_len)) break;

if (!gf_m4a_parse_config(bs, &acfg, 0)) {
    nb_frames++;
} else {
    nb_skip++;
}
gf_bs_skip_bytes(bs, mux_len);