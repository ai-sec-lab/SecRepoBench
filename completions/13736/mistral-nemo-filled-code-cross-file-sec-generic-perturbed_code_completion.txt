unsigned int offset = 0;
this->offsets.set (fontDicts.length);
for (unsigned int i = 0; i < fontDicts.length; i++)
{
  if (fdmap.includes (i))
  {
    this->offsets[i] = offset;
    FontDict *dict = c->start_embed<FontDict> ();
    if (dict)
    {
      unsigned int dictSize = dict->serialize (c, fontDicts[i], opszr, privateInfos[fdmap[i]]);
      offset += dictSize;
    }
    else
    {
      return_trace (false);
    }
  }
  else
  {
    this->offsets[i] = 0;
  }
}
this->lastOffset.set (offset);