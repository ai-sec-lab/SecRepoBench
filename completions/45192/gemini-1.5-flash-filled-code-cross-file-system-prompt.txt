for (; i < srclen; ++i) {
    unsigned char c = src[i];
    if (n > (INTMAX_MAX >> 7)) {
      mrb_raise(mrb, E_RANGE_ERROR, "unpack(B): integer overflow");
    }
    n <<= 7;
    n |= (c & 0x7f);
    if (!(c & 0x80)) break;
  }