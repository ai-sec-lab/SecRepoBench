if (argc < 0) {
  mrb_raisef(mrb, E_ARGUMENT_ERROR, "negative argument count (%d)", argc);
}

m = mrb_method_search_vm(mrb, &cls, mid);
if (MRB_METHOD_UNDEF_P(m)) {
  m = prepare_missing(mrb, recv, mid, &cls, a, &c, blk, 0);
  mid = MRB_SYM(method_missing);
}

if (argc > 15) {
  mrb_value args = mrb_ary_new_from_values(mrb, argc, regs + a + 1);
  regs[a + 1] = args;
  argc = 15;
}