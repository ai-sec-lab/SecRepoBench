mrb_int value;
if (mrb_read_int(mrb, tptr, &tmpl->idx, tlen, &value) == MRB_INT_OVERFLOW) {
  mrb_raise(mrb, E_RUNTIME_ERROR, "too big template length");
}
count = (int)value;