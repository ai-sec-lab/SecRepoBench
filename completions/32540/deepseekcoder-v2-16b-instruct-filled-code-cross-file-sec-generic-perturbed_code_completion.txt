if (done_lookups_glyph_count->get(indexlookup) ||
        done_lookups_glyph_set->get(indexlookup))
      return true;

    if (!done_lookups_glyph_count->get(indexlookup)) {
      done_lookups_glyph_count->set(indexlookup, true);
      // Update the glyph count for this lookup index
    }

    if (!done_lookups_glyph_set->get(indexlookup)) {
      done_lookups_glyph_set->set(indexlookup, true);
      // Initialize and clear the glyph set as needed
    }

    hb_set_t* glyph_set = done_lookups_glyph_set->get(indexlookup);
    if (!glyph_set) {
      // Handle error: glyph set is not initialized
      return true;
    }

    // Determine if the parent active glyphs are a subset of the obtained glyph set
    hb_set_t* parent_active_glyphs_set = parent_active_glyphs();
    if (!parent_active_glyphs_set) {
      // Handle error: parent active glyphs are not available
      return true;
    }

    bool is_subset = hb_set_is_subset(parent_active_glyphs_set, glyph_set);
    hb_set_destroy(parent_active_glyphs_set);

    return is_subset;