hb_set_t *glyph_set = done_lookups_glyph_set->get (indexlookup);
if (!glyph_set) {
  glyph_set = hb_set_create ();
  done_lookups_glyph_set->set (indexlookup, glyph_set);
  done_lookups_glyph_count->add (indexlookup, 0);
  hb_set_clear (glyph_set);
}

hb_set_union (glyph_set, parent_active_glyphs ());
unsigned int count = hb_set_get_population (glyph_set);
done_lookups_glyph_count->set (indexlookup, count);

return hb_set_is_subset (parent_active_glyphs (), glyph_set);