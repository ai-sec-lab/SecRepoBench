uint32_t len;
	uint32_t reclen;
	unsigned int tapemarks = 0;
	const unsigned char *p = uc;

	while (p < ue) {
		len = getlen(p, ue);
		if (len == 0)
			return 0;
		reclen = getlen(p + 4, ue);
		if (len != reclen)
			return 0;
		p += 8 + len;
		if (p >= ue)
			break;
		if (*p == 0xFF && *(p + 1) == 0xFF && *(p + 2) == 0xFF && *(p + 3) == 0xFF) {
			if (++tapemarks >= SIMH_TAPEMARKS)
				break;
			p += 4;
		}
	}
	return tapemarks > 0;