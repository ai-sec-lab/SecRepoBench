size_t record_count = 0;
    size_t tapemark_count = 0;
    unsigned int length = 0;
    unsigned int eom_marker = 0xFFFFFFFF;

    while (uc < ue) {
        // Validate the current position
        if (uc + sizeof(unsigned int) > ue) {
            return 0; // Invalid data
        }

        // Get the length of the current record
        length = getlen(uc);
        uc += sizeof(unsigned int);

        // Check for End of Medium (EOM) marker
        if (length == eom_marker) {
            break; // Stop parsing on EOM
        }

        // Validate the length of the record
        if (uc + length > ue) {
            return 0; // Invalid data
        }

        // Increment record count
        record_count++;

        // Check for tapemark (assuming tapemark is defined in the data)
        if (is_tapemark(uc, length)) {
            tapemark_count++;
            if (tapemark_count >= SIMH_TAPEMARKS) {
                break; // Stop processing if tapemark limit is reached
            }
        }

        // Move the pointer forward by the length of the record
        uc += length;
    }

    // Return 1 if valid SIMH data is found, otherwise 0
    return (record_count > 0) ? 1 : 0;