scale = QuantumRange / ((1ULL << jp2_image->comps[i].prec) - 1);
        pixel = scale * (jp2_image->comps[i].data[y * jp2_image->comps[i].w + x] + (jp2_image->comps[i].sgnd ? (1ULL << (jp2_image->comps[i].prec - 1)) : 0));