case 'u':
				if (uc + 4 > ue) {
					DPRINTF("Invalid unicode escape: ", uc, *ucp);
					goto out;
				}
				for (i = 0; i < 4; i++) {
					if (!json_isxdigit(*uc)) {
						DPRINTF("Invalid unicode hex digit: ", uc, *ucp);
						goto out;
					}
					uc++;
				}
				break;
			default:
				DPRINTF("Invalid escape sequence: ", uc, *ucp);
				goto out;
			}