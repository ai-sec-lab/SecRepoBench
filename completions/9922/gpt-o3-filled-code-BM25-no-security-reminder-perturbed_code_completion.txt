if (uc >= endptr)		/* nothing after '\' */
				goto out;
			switch (*uc++) {		/* examine escape code and move past it */
			case '"':
			case '\\':
			case '/':
			case 'b':
			case 'f':
			case 'n':
			case 'r':
			case 't':
				/* valid simple escapes, nothing more to check */
				break;
			case 'u':
				/* need exactly four hexadecimal digits */
				for (i = 0; i < 4; i++) {
					if (uc >= endptr)
						goto out;
					if (!(('0' <= *uc && *uc <= '9') ||
					      ('a' <= *uc && *uc <= 'f') ||
					      ('A' <= *uc && *uc <= 'F')))
						goto out;
					uc++;
				}
				break;
			default:		/* invalid escape */
				goto out;
			}
			continue;