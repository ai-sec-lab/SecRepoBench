if (uc < ue) {
    switch (*uc) {
    case '\\':
        uc++;
        break;
    case '"':
    case '/':
    case 'b':
    case 'f':
    case 'n':
    case 'r':
    case 't':
        uc++;
        break;
    case 'u':
        if (uc + 4 < ue && json_isxdigit(uc[1]) && json_isxdigit(uc[2]) && json_isxdigit(uc[3]) && json_isxdigit(uc[4]))
            uc += 5;
        else
            goto out;
        break;
    default:
        goto out;
    }
} else {
    goto out;
}