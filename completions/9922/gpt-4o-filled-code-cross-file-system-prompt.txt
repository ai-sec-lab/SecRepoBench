switch (*uc++) {
    case '\\':
    case '"':
    case '/':
    case 'b':
    case 'f':
    case 'n':
    case 'r':
    case 't':
        continue;
    case 'u':
        for (i = 0; i < 4; i++) {
            if (uc >= ue || !isxdigit(*uc++))
                goto out;
        }
        continue;
    default:
        goto out;
}