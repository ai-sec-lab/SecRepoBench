if (uc == ue)
				goto out;
			switch (*uc++) {
			case '\\':
			case '"':
			case '/':
				break;
			case 'b':
				*uc = '\b';
				break;
			case 'f':
				*uc = '\f';
				break;
			case 'n':
				*uc = '\n';
				break;
			case 'r':
				*uc = '\r';
				break;
			case 't':
				*uc = '\t';
				break;
			case 'u': {
				unsigned int c = 0;
				int i;
				for (i = 0; i < 4; i++) {
					if (uc == ue)
						goto out;
					if (!isxdigit(*uc))
						goto out;
					c = (c << 4) | json_hexval(*uc++);
				}
				*uc = c;
				break;
			}
			default:
				goto out;
			}