else if ((szLine[i] & 0xf8) == 0xf0) {
    if (j >= GF_ARRAY_LENGTH(szLineConv))
        break;
    szLineConv[j] = szLine[i];
    i++;
    j++;
    if (i < len && (szLine[i] & 0xc0) == 0x80) {
        szLineConv[j] = szLine[i];
        i++;
        j++;
        if (i < len && (szLine[i] & 0xc0) == 0x80) {
            szLineConv[j] = szLine[i];
            i++;
            j++;
        }
    }
}