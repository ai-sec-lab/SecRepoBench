tail = head + len;
  if (tail > alen) {
    len = alen - head; // Adjust len to fit within the array bounds
  }
  if (head + len > alen) {
    len = alen - head; // Ensure we do not exceed the current array length
  }