/* argument check */
    if (argcount < 0) {
      mrb_raise(mrb, E_ARGUMENT_ERROR, "negative argc");
    }

    /* prepare receiver/arguments on current stack */
    {
      mrb_int need;

      if (argcount < 15) {
        need = n + argcount + 2;            /* self + args + blk */
      }
      else {
        need = n + 3;                       /* self + ary + blk */
      }
      mrb_stack_extend(mrb, need);
      /* stack may be reallocated, refresh ci */
      ci = mrb->c->ci;

      /* receiver */
      ci->stack[n] = self;

      if (argcount < 15) {
        if (argcount > 0) {
          stack_copy(ci->stack + n + 1, argv, argcount);
        }
        ci->stack[n + argcount + 1] = blk;  /* keep blk for method_missing */
      }
      else {
        /* pack too many arguments into Array */
        mrb_value ary = mrb_ary_new_from_values(mrb, argcount, argv);
        ci->stack[n + 1] = ary;
        ci->stack[n + 2] = blk;
        argcount = 15;                      /* flag for packed args */
      }
    }

    /* method lookup */
    c = mrb_class(mrb, self);
    m = mrb_method_search_vm(mrb, &c, mid);