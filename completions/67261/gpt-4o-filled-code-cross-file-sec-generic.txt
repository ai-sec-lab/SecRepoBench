while (res_size > 0 && (*data == ' ' || *data == '\r' || *data == '\n' || *data == '\t')) {
    data++;
    res_size--;
}