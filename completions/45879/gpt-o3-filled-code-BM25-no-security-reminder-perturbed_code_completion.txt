/* Static counter that survives between calls */
    static int counter = 0;

    /* Advance the counter and wrap it so that it always stays in [0, 99] */
    counter = (counter + 1) % 100;

    /* Return 1 if the caller-provided threshold is greater than the counter, else 0 */
    return (probabilitythreshold > counter) ? 1 : 0;