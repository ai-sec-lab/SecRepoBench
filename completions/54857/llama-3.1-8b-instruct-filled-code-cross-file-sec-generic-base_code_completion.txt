if (s->codec_id == AV_CODEC_ID_HUFFYUV) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_MPEG4) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_MPEG2VIDEO) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_MPEG1VIDEO) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_VP8) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_VP9) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_H264) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_XVID) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_MSMPEG4V2) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_MSMPEG4V1) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV2) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV1) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3IMAGE) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE2) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE3) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE4) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE5) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE6) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE7) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE8) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE9) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE10) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE11) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE12) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV444P) {
        w_align = 16;
        h_align = 16;
    }
} else if (s->codec_id == AV_CODEC_ID_WMV3VANCE13) {
    if (s->pix_fmt == AV_PIX_FMT_YUV420P) {
        w_align = 16;
        h_align = 16;
    } else if (s->pix_fmt == AV_PIX_FMT_YUV422P) {
        w_align = 16;
        h_align = 32;
    } else if (s->pi