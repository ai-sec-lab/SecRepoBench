if (max_channel > 5 && m->avctx->codec_id == AV_CODEC_ID_MLP) {
        avpriv_request_sample(m->avctx, "Unsupported MLP stream with more than 6 channels");
        return AVERROR_PATCHWELCOME;
    }
    if (max_channel >= MAX_CHANNELS) {
        av_log(m->avctx, AV_LOG_ERROR, "Too many channels: %d.\n", max_channel + 1);
        return AVERROR_INVALIDDATA;
    }