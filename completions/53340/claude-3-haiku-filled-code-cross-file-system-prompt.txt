// Check for TrueHD streams with more than 6 channels and MLP's noise type.
// If the max channel exceeds the maximum supported value for
// MLP and the noise type is not set, the decoder may not support this case.
// Request a sample for further analysis and return an error indicating the need
// for a patch to handle this scenario.
if (m->avctx->codec_id == AV_CODEC_ID_TRUEHD && max_channel + 1 > MAX_CHANNELS_MLP && !noise_type) {
    avpriv_request_sample(m->avctx, "TrueHD stream with more than 6 channels and MLP's noise type");
    return AVERROR_PATCHWELCOME;
}