// Ensure the token is null-terminated
      token[i] = '\0';

      // Check if the token starts with "url("
      const char *url_prefix = "url(";
      size_t url_prefix_length = strlen(url_prefix);
      if (strncmp(token, url_prefix, url_prefix_length) == 0) {
          // Skip the "url(" prefix
          p += url_prefix_length;

          // Skip optional '#' character
          if (*p == '#') {
              p++;
          }

          // Copy the actual URL to the beginning of the token string
          i = 0; // Reset index for token
          while (*p != '\0' && *p != ')') {
              if (i < (ssize_t)(extent - 1)) {
                  token[i++] = *p;
              }
              p++;
          }
          // Null-terminate the token string again
          token[i] = '\0';
      }