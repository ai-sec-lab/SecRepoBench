// Check if the token starts with "url(".
if (strncmp(token, "url(", 4) == 0)
{
    // Extract the actual URL by skipping the "url(" prefix and optional '#' character.
    const char* url = token + 4;
    if (*url == '#')
        url++;

    // Copy the URL to the beginning of the token string, replacing the original content.
    strncpy(token, url, extent - 1);
    token[extent - 1] = '\0';
}