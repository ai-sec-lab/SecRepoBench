size = gf_mp3_frame_size(ctx->hdr);
if (remain >= bytes_skipped + size + 1) {
    if ((sync[size] & 0xFF) != 0xFF) {
        if ((remain >= bytes_skipped + size + 128) &&
            (sync[size] == 'T') && (sync[size+1] == 'A') && (sync[size+2] == 'G')) {
            skip_id3v1 = GF_TRUE;
        }
    } else {
        GF_LOG(GF_LOG_WARNING, GF_LOG_MEDIA, ("[MP3Dmx] Invalid frame at %d, resyncing\n", bytes_skipped));
        ctx->is_sync = GF_FALSE;
        bytes_to_drop = 1;
        continue;
    }
} else if (!is_eos) {
    break;
}