for (index = 0; index < AV_NUM_DATA_POINTERS; index++) {
    int linesize_align = (index == 1 || index == 2) ? STRIDE_ALIGN : 1;

    if (linesize_align > 1) {
        linesize_align = FFMAX(linesize_align, w_align >> (index == 1 || index == 2));
    }

    if (s->linesize[index] > 0) {
        linesize_align = FFMAX(linesize_align, 16);
    }

    linesize_align[index] = linesize_align;
}