unsigned int denom = arrayZ[i].fromCoord - arrayZ[i-1].fromCoord;
    if (denom == 0) {
        denom = 1; // Avoid division by zero
    }