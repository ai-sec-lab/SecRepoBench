if ((TIFFGetField(tiff,TIFFTAG_EXIFIFD,&value) == 1) &&
    (value!= (uint32) 0))
  TIFFReadEXIFProperties(tiff,image,errorinfo);
if ((TIFFGetField(tiff,TIFFTAG_GPSIFD,&value) == 1) &&
    (value!= (uint32) 0))
  TIFFReadGPSProperties(tiff,image,errorinfo);
if ((TIFFGetField(tiff,TIFFTAG_ICCPROFILE,&value) == 1) &&
    (value!= (uint32) 0))
  TIFFReadICCTag(tiff,image,errorinfo);
if (TIFFGetField(tiff,TIFFTAG_XRESOLUTION,&x_resolution) == 1)
  image->resolution.x=x_resolution;
if (TIFFGetField(tiff,TIFFTAG_YRESOLUTION,&y_resolution) == 1)
  image->resolution.y=y_resolution;
if (TIFFGetField(tiff,TIFFTAG_RESOLUTIONUNIT,&units) == 1)
  {
    if (units == RESUNIT_INCH)
      image->units=PixelsPerInchResolution;
    if (units == RESUNIT_CENTIMETER)
      image->units=PixelsPerCentimeterResolution;
  }