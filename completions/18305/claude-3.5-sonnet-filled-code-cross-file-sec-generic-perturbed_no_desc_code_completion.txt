if (TIFFGetField(tiff,TIFFTAG_XRESOLUTION,&x_resolution) == 1)
  image->resolution.x=x_resolution;
if (TIFFGetField(tiff,TIFFTAG_YRESOLUTION,&y_resolution) == 1)
  image->resolution.y=y_resolution;
if (TIFFGetField(tiff,TIFFTAG_RESOLUTIONUNIT,&units) == 1)
{
  if (units == RESUNIT_INCH)
    image->units=PixelsPerInchResolution;
  if (units == RESUNIT_CENTIMETER)
    image->units=PixelsPerCentimeterResolution;
}
if ((TIFFGetField(tiff,TIFFTAG_XPOSITION,&x_position) == 1) &&
    (TIFFGetField(tiff,TIFFTAG_YPOSITION,&y_position) == 1))
{
  image->page.x=(ssize_t) ceil(x_position*image->resolution.x-0.5);
  image->page.y=(ssize_t) ceil(y_position*image->resolution.y-0.5);
}