if (prec > (buf_remaining - 2)) {
        prec = buf_remaining - 2;
      }
      num_digits = prec + 1;
      if (num_digits || alt_form) {
        *s++ = '.';
      }