{
            /* we already parsed a key, but the next character is '=', so the whole
             * document is most likely of the form  key = value;  repeated, i.e.
             * an OpenStep style dictionary whose values are (mostly) strings      */
            plist_t dict = plist_new_dict();

            while (err == 0) {
                /* the key that has just been parsed is in *plist                  */
                plist_t key_node = *plist;
                *plist = NULL;

                /* obtain the key string                                           */
                char *key_str = NULL;
                plist_get_string_val(key_node, &key_str);
                if (!key_str) {
                    plist_free(key_node);
                    err = PLIST_ERR_PARSE;
                    break;
                }

                /* move past the '='                                               */
                ctx.pos++;
                parse_skip_ws(&ctx);

                /* parse the value                                                 */
                plist_t val_node = NULL;
                err = node_from_openstep(&ctx, &val_node);
                if (err != 0 || !val_node) {
                    free(key_str);
                    plist_free(key_node);
                    if (!err)
                        err = PLIST_ERR_PARSE;
                    break;
                }

                /* add the pair to the dictionary                                  */
                plist_dict_set_item(dict, key_str, val_node);

                /* cleanup key node and helper string                              */
                free(key_str);
                plist_free(key_node);

                /* consume optional ';' and trailing whitespace                    */
                parse_skip_ws(&ctx);
                if (ctx.pos < ctx.end && *ctx.pos == ';') {
                    ctx.pos++;
                }
                parse_skip_ws(&ctx);

                /* reached end of buffer ?                                         */
                if (ctx.pos >= ctx.end) {
                    break;
                }

                /* parse next key                                                  */
                err = node_from_openstep(&ctx, plist);
                if (err != 0 || !*plist) {
                    if (!err)
                        err = PLIST_ERR_PARSE;
                    break;
                }

                /* after a key we must again have '='                              */
                parse_skip_ws(&ctx);
                if (ctx.pos >= ctx.end || *ctx.pos != '=') {
                    err = PLIST_ERR_PARSE;
                    break;
                }
            }

            if (err == 0) {
                *plist = dict;
            } else {
                plist_free(dict);
                if (*plist) {
                    plist_free(*plist);
                    *plist = NULL;
                }
            }
        }