size_t count = 0;
mpz_t temp;
mpz_init(mrb, &temp);
mpz_set(mrb, &temp, number);

if (mpz_cmp_si(mrb, &temp, 0) == 0) {
    count = 1;
} else {
    while (mpz_cmp_si(mrb, &temp, 0) != 0) {
        mpz_div_2exp(mrb, &temp, &temp, DIGITBITS);
        count++;
    }
}

mpz_clear(mrb, &temp);
return count;