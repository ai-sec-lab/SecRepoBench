size_t sz = x->sz;
if (sz == 0 || x->sn == 0) {
  return 1;  // Return 1 for zero
}

size_t count = (sz - 1) * DIGITBITS;
mp_limb msb = x->p[sz - 1];

while (msb) {
  count++;
  msb >>= 1;
}

return count;