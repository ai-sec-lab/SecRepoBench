size_t i;
  if (x == NULL) return 0;
  for (i = x->sz - 1; i >= 0; i--) {
    if (x->p[i] != 0) break;
  }
  return (i + 1);