mvg_class=GetValueFromSplayTree(macros,token);
            if (mvg_class != (const char *) NULL)
              {
                char *elements;
                size_t length;

                elements=FileToString(mvg_class,~0UL,exception);
                if (elements != (char *) NULL)
                  {
                    length=strlen(elements);
                    (void) FormatLocaleString(token,MagickPathExtent,"%s%s",elements,q);
                    primitive=DestroyString(primitive);
                    primitive=AcquireString(token);
                    q=primitive + length; // Adjust the stream pointer to the new position
                    elements=DestroyString(elements);
                  }
              }