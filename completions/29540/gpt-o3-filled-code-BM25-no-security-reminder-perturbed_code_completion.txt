/* Return early if there are no elements or no fields */
    if ( nelems < 1 || nfields < 1 ) {
        data_variable->nbytes = 0;
        data_variable->data   = NULL;
        return;
    }

    /* Each field is stored as a pointer to a matvar_t structure             */
    /* Compute total number of bytes required and store in nbytes            */
    data_variable->data_size = sizeof(matvar_t*);
    data_variable->nbytes    = (size_t)(nelems * nfields) * sizeof(matvar_t*);

    /* Allocate memory for the array of field pointers                       */
    fields = (matvar_t**)calloc((size_t)(nelems * nfields), sizeof(*fields));
    if ( NULL == fields ) {
        Mat_Critical("Error allocating memory for structure fields");
        return;
    }

    /* Make the allocated memory available to the caller                     */
    data_variable->data = fields;