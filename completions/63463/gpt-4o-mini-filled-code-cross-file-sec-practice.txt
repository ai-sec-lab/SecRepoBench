// This block of code handles the post-processing of objects in a DWG file format,
          // ensuring data consistency and handling extra data and CRC checks.
          // For objects in pre-R11 versions, it checks if the object size matches the expected size.
          // If there is a discrepancy, it calculates the offset of unknown data and stores it.
          // For objects in later versions, it also handles the CRC16 check, adjusting the byte position
          // as needed and logging any errors or discrepancies. If any additional data exists beyond the
          // expected size, it is read and stored as unknown data, and CRC checks are performed to validate
          // the integrity of the data block. If the object size is invalid, it is adjusted and an error is logged.

          // Validate the size of the object
          if (obj->size > size) {
              LOG_ERROR("Invalid object size: expected %u, got %u", size, obj->size);
              return DWG_ERR_INVALIDDWG;
          }

          // Handle CRC checks for data integrity
          if (dat->version >= R_11) {
              uint16_t crc_calculated = calculate_crc16(dat->byte, obj->size);
              uint16_t crc_expected = read_crc_from_data(dat);
              if (crc_calculated != crc_expected) {
                  LOG_ERROR("CRC mismatch: expected 0x%04x, calculated 0x%04x", crc_expected, crc_calculated);
                  return DWG_ERR_CRCMISMATCH;
              }
          }

          // Read any additional unknown data beyond the expected size
          if (dat->byte + obj->size < dat->size) {
              size_t unknown_data_size = dat->size - (dat->byte + obj->size);
              obj->unknown_bits = bit_read_bits(dat, unknown_data_size);
              if (!obj->unknown_bits) {
                  LOG_ERROR("Failed to read unknown bits");
                  return DWG_ERR_VALUEOUTOFBOUNDS;
              }
          }

          // Adjust the byte position after processing
          dat->byte += obj->size;