size_t x_digits = digits(x);
size_t y_digits = digits(y);

if (y_digits < x_digits) return -1;
if (y_digits > x_digits) return 1;

for (size_t i = x_digits; i > 0; i--) {
    if (y->p[i-1] > x->p[i-1]) return 1;
    if (y->p[i-1] < x->p[i-1]) return -1;
}