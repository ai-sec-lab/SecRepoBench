if (mpz_sgn(y) == 0) {
  i = 0;
} else if (mpz_size(y) > 2 || mpz_getlimbn(y, 1) > 1) {
  return FALSE;
} else {
  i = mpz_get_ui(y);
  if (mpz_sgn(y) < 0) {
    if (i > (mrb_int)MRB_INT_MAX + 1) {
      return FALSE;
    }
    i = -i;
  } else if (i > MRB_INT_MAX) {
    return FALSE;
  }
}