// Validate the number of bits to read
        if (num_bits > 16) {
            return AVERROR_INVALIDDATA; // Prevent reading too many bits
        }

        // Read the coefficient value from the bitstream
        coeff = get_bits(&ctx->gb, num_bits);

        // Apply quality scaling to the coefficient
        if (pos < 3) {
            coeff *= 16; // For the first three positions, multiply by 16
        } else {
            coeff = (coeff * qscale) / 1001; // Scale for other positions
        }

        // Ensure the coefficient is within valid range
        if (coeff < -32768 || coeff > 32767) {
            return AVERROR_INVALIDDATA; // Prevent overflow/underflow
        }