/*
                      Resize the buffer if the replacement will require more
                      space than is presently available.
                    */
                    {
                      size_t
                        current_length = strlen(xml_start)+1,
                        new_extent;

                      if (extent >= current_length)
                        {
                          new_extent=extent+MagickPathExtent;
                          xml_start=(char *) ResizeQuantumMemory(xml_start,
                            new_extent,sizeof(*xml_start));
                          if (xml_start == (char *) NULL)
                            ThrowFatalException(ResourceLimitFatalError,
                              "MemoryAllocationFailed");
                        }
                    }