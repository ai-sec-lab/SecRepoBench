// The masked code block is a helper function used to extract and convert 
// a number from a string, starting at a given pointer `p` and continuing 
// up to a `limit` pointer. The function updates the integer pointed to 
// by `valp` with the extracted number, and returns a pointer to the 
// position in the string after the parsed number. If the parsing fails, 
// the function returns `NULL`.