// This block parses an integer from a string in the template, updating the index.
// It uses `mrb_read_int` to read an integer from the template starting at `tmpl->idx`.
// The integer is stored in `n`, and the current index in the template is updated to `e - tptr`.
// If the integer cannot be read, an error is raised.