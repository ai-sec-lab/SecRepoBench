// Determine the font encoding based on the provided encoding string and
// select the corresponding character map for the font face. If the encoding
// string is not NULL, compare it with known encoding names and set the
// encoding type accordingly. Attempt to select the character map using this
// encoding type and handle any errors that occur during this process.
// Next, set the character size for the font face using the specified
// point size and resolution settings. Calculate and store the font
// metrics, including pixels per em, ascent, descent, height, and maximum
// advance. Also determine the bounding box and underline metrics.
// Finally, check if the text to be rendered is empty or invalid and return
// early if so. Otherwise, proceed to compute the bounding box for the
// text using the configured font settings, and initialize any necessary
// resources for rendering the text.