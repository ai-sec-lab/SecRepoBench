// This loop iterates over the data between `uc` and `ue` to parse SIMH tape records.
// It checks if there is enough data left for a complete record, using `getlen` to retrieve
// the length of the next record. The loop continues until either a specified number of 
// tapemarks is reached or an End of Medium (EOM) is detected after at least one record or tapemark.
// It counts the number of tapemarks `nt` and records `nr`. If a tapemark is found, it increments `nt`.
// If a data record is found, it advances the pointer and checks if the record length is valid by comparing
// it with a subsequent length value. If they don't match, parsing fails and returns 0.
// The loop exits when no more complete records can be read from the data.