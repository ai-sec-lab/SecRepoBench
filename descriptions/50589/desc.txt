// Implements the getNextLine function which reads the next line from the stream buffer.
// Resizes the buffer to hold the cache size and checks if the cache end is reached.
// If so, reads the next block from the stream. Skips over line endings if present.
// Reads characters into the buffer until a line ending is encountered, resizing
// the buffer if needed. Updates the cache position accordingly and appends a newline
// character to the buffer. If the cache ends with line endings, skips them to prepare
// for the next read. Returns true if a line was successfully read, false otherwise.