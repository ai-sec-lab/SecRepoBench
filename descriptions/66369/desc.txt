// This code block processes auxiliary tags in BAM format and converts
// them into a format suitable for CRAM encoding. It handles various
// auxiliary tags, such as RG (Read Group), MD (Mismatch Descriptor),
// and NM (Edit Distance), and applies specific logic to potentially
// store them in a more compact form for CRAM version 4 or higher.
// The code also manages the creation of new tag blocks for storing
// auxiliary data, using different encoding strategies based on the
// tag type. It incorporates checks for sufficient data size and
// terminates processing if encountering malformed data. Additionally,
// the code manages global and container-level tag maps, ensuring the
// correct initialization and linking of codec and block structures for
// efficient CRAM encoding.