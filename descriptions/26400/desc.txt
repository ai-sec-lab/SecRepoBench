// This function converts a symbol to its corresponding name and optionally
// retrieves its length. It first checks if the symbol is inline using
// SYMBOL_INLINE_P; if true, it unpacks it using sym_inline_unpack. If
// the MRB_NO_PRESYM flag is not set, it attempts to retrieve the name using
// presym_sym2name. The symbol is adjusted by subtracting MRB_PRESYM_MAX
// to account for presymbols. If the adjusted symbol index is out of bounds,
// it returns NULL and sets the length to 0 if lenp is provided. Otherwise,
// it retrieves the length and name from the symbol table.