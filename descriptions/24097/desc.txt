// This part processes each format field for VCF records, determining the necessary memory allocation for each field. 
// It calculates the `size` for each format type: string fields (`BCF_HT_STR`) allocate size based on the maximum length or genotype number,
// while integer and real fields (`BCF_HT_INT`, `BCF_HT_REAL`) allocate size based on maximum vector size. 
// The code ensures memory alignment and checks if the total memory required exceeds a predefined limit (~2GB per VCF row) to avoid excessive use. 
// If memory allocation succeeds, the offset for each format field is updated and memory is resized appropriately. 
// Error logging is performed if unsupported format types are encountered or if memory allocation fails.