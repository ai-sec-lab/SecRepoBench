// Determine the pixel format for the decoded video frame based on encoding mode,
// bits per pixel (bpp), palette size, and format type. If the video is not encoded
// and has a palette with bpp <= 8 (excluding CHUNKY format), use the PAL8 pixel format.
// If the video is encoded with bpp of 6 or 8, check that the palette size matches
// the expected size for the given bpp and use BGR24 pixel format. For non-encoded,
// 24-bpp CHUNKY format video without a palette, use RGB24 pixel format. If none of
// these conditions are met, request a sample for the unsupported combination of
// encoding, bpp, and format, returning an error indicating the need for a patch.