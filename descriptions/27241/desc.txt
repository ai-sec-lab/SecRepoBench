// This part iterates over the format string, matching it against the input buffer, and
// extracting date-time components like year, month, day, hour, etc. If any format
// specifiers or conditions are not met, the function returns NULL indicating failure.
// The implementation also supports time zone conversion and leap year calculations.